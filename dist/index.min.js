var Df=Object.create;var ar=Object.defineProperty;var zf=Object.getOwnPropertyDescriptor;var Lf=Object.getOwnPropertyNames;var Mf=Object.getPrototypeOf,Vf=Object.prototype.hasOwnProperty;var P=(r,t)=>()=>(r&&(t=r(r=0)),t);var fe=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Zf=(r,t)=>{for(var e in t)ar(r,e,{get:t[e],enumerable:!0})},Oi=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Lf(t))!Vf.call(r,i)&&i!==e&&ar(r,i,{get:()=>t[i],enumerable:!(n=zf(t,i))||n.enumerable});return r};var ze=(r,t,e)=>(e=r!=null?Df(Mf(r)):{},Oi(t||!r||!r.__esModule?ar(e,"default",{value:r,enumerable:!0}):e,r)),Yf=r=>Oi(ar({},"__esModule",{value:!0}),r);function Di(){throw new Error("setTimeout has not been defined")}function zi(){throw new Error("clearTimeout has not been defined")}function Li(r){if(Ce===setTimeout)return setTimeout(r,0);if((Ce===Di||!Ce)&&setTimeout)return Ce=setTimeout,setTimeout(r,0);try{return Ce(r,0)}catch(t){try{return Ce.call(null,r,0)}catch(e){return Ce.call(this,r,0)}}}function Hf(r){if(Re===clearTimeout)return clearTimeout(r);if((Re===zi||!Re)&&clearTimeout)return Re=clearTimeout,clearTimeout(r);try{return Re(r)}catch(t){try{return Re.call(null,r)}catch(e){return Re.call(this,r)}}}function jf(){!it||!Le||(it=!1,Le.length?ve=Le.concat(ve):sr=-1,ve.length&&Mi())}function Mi(){if(!it){var r=Li(jf);it=!0;for(var t=ve.length;t;){for(Le=ve,ve=[];++sr<t;)Le&&Le[sr].run();sr=-1,t=ve.length}Le=null,it=!1,Hf(r)}}function Wf(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];ve.push(new Vi(r,t)),ve.length===1&&!it&&Li(Mi)}function Vi(r,t){this.fun=r,this.array=t}function Me(){}function lu(r){throw new Error("process.binding is not supported")}function hu(){return"/"}function cu(r){throw new Error("process.chdir is not supported")}function pu(){return 0}function mu(r){var t=du.call(nt)*.001,e=Math.floor(t),n=Math.floor(t%1*1e9);return r&&(e=e-r[0],n=n-r[1],n<0&&(e--,n+=1e9)),[e,n]}function gu(){var r=new Date,t=r-_u;return t/1e3}var Ce,Re,ve,it,Le,sr,qf,Gf,Kf,Xf,Jf,Qf,eu,tu,ru,nu,iu,ou,au,su,fu,uu,nt,du,_u,y,Pi,m=P(()=>{Ce=Di,Re=zi;typeof globalThis.setTimeout=="function"&&(Ce=setTimeout);typeof globalThis.clearTimeout=="function"&&(Re=clearTimeout);ve=[],it=!1,sr=-1;Vi.prototype.run=function(){this.fun.apply(null,this.array)};qf="browser",Gf="browser",Kf=!0,Xf={},Jf=[],Qf="",eu={},tu={},ru={};nu=Me,iu=Me,ou=Me,au=Me,su=Me,fu=Me,uu=Me;nt=globalThis.performance||{},du=nt.now||nt.mozNow||nt.msNow||nt.oNow||nt.webkitNow||function(){return new Date().getTime()};_u=new Date;y={nextTick:Wf,title:qf,browser:Kf,env:Xf,argv:Jf,version:Qf,versions:eu,on:nu,addListener:iu,once:ou,off:au,removeListener:su,removeAllListeners:fu,emit:uu,binding:lu,cwd:hu,chdir:cu,umask:pu,hrtime:mu,platform:Gf,release:tu,config:ru,uptime:gu},Pi={};Object.keys(Pi).forEach(r=>{let t=r.split("."),e=y;for(let n=0;n<t.length;n++){let i=t[n];n===t.length-1?e[i]=Pi[r]:e=e[i]||(e[i]={})}})});function ji(){on=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=r.length;t<e;++t)ce[t]=r[t],ne[r.charCodeAt(t)]=t;ne["-".charCodeAt(0)]=62,ne["_".charCodeAt(0)]=63}function bu(r){on||ji();var t,e,n,i,o,a,s=r.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[s-2]==="="?2:r[s-1]==="="?1:0,a=new wu(s*3/4-o),n=o>0?s-4:s;var l=0;for(t=0,e=0;t<n;t+=4,e+=3)i=ne[r.charCodeAt(t)]<<18|ne[r.charCodeAt(t+1)]<<12|ne[r.charCodeAt(t+2)]<<6|ne[r.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=i&255;return o===2?(i=ne[r.charCodeAt(t)]<<2|ne[r.charCodeAt(t+1)]>>4,a[l++]=i&255):o===1&&(i=ne[r.charCodeAt(t)]<<10|ne[r.charCodeAt(t+1)]<<4|ne[r.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=i&255),a}function vu(r){return ce[r>>18&63]+ce[r>>12&63]+ce[r>>6&63]+ce[r&63]}function yu(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],i.push(vu(n));return i.join("")}function Zi(r){on||ji();for(var t,e=r.length,n=e%3,i="",o=[],a=16383,s=0,l=e-n;s<l;s+=a)o.push(yu(r,s,s+a>l?l:s+a));return n===1?(t=r[e-1],i+=ce[t>>2],i+=ce[t<<4&63],i+="=="):n===2&&(t=(r[e-2]<<8)+r[e-1],i+=ce[t>>10],i+=ce[t>>4&63],i+=ce[t<<2&63],i+="="),o.push(i),o.join("")}function fr(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ye(r,t){if(fr()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=d.prototype):(r===null&&(r=new d(t)),r.length=t),r}function d(r,t,e){if(!d.TYPED_ARRAY_SUPPORT&&!(this instanceof d))return new d(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return an(this,r)}return Wi(this,r,t,e)}function Wi(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?Tu(r,t,e,n):typeof t=="string"?Eu(r,t,e):Au(r,t)}function qi(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function xu(r,t,e,n){return qi(t),t<=0?ye(r,t):e!==void 0?typeof n=="string"?ye(r,t).fill(e,n):ye(r,t).fill(e):ye(r,t)}function an(r,t){if(qi(t),r=ye(r,t<0?0:sn(t)|0),!d.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}function Eu(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!d.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=Gi(t,e)|0;r=ye(r,n);var i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function nn(r,t){var e=t.length<0?0:sn(t.length)|0;r=ye(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Tu(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),d.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=d.prototype):r=nn(r,t),r}function Au(r,t){if(pe(t)){var e=sn(t.length)|0;return r=ye(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Yu(t.length)?ye(r,0):nn(r,t);if(t.type==="Buffer"&&Array.isArray(t.data))return nn(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function sn(r){if(r>=fr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+fr().toString(16)+" bytes");return r|0}function pe(r){return!!(r!=null&&r._isBuffer)}function Gi(r,t){if(pe(r))return r.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return ur(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return ro(r).length;default:if(n)return ur(r).length;t=(""+t).toLowerCase(),n=!0}}function Cu(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Ou(this,t,e);case"utf8":case"utf-8":return Ji(this,t,e);case"ascii":return Uu(this,t,e);case"latin1":case"binary":return Bu(this,t,e);case"base64":return $u(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pu(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function Ve(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function Ki(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=d.from(t,n)),pe(t))return t.length===0?-1:Yi(r,t,e,n,i);if(typeof t=="number")return t=t&255,d.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):Yi(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Yi(r,t,e,n,i){var o=1,a=r.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,a/=2,s/=2,e/=2}function l(h,g){return o===1?h[g]:h.readUInt16BE(g*o)}var f;if(i){var u=-1;for(f=e;f<a;f++)if(l(r,f)===l(t,u===-1?0:f-u)){if(u===-1&&(u=f),f-u+1===s)return u*o}else u!==-1&&(f-=f-u),u=-1}else for(e+s>a&&(e=a-s),f=e;f>=0;f--){for(var c=!0,p=0;p<s;p++)if(l(r,f+p)!==l(t,p)){c=!1;break}if(c)return f}return-1}function Ru(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;r[e+a]=s}return a}function Su(r,t,e,n){return cr(ur(t,r.length-e),r,e,n)}function Xi(r,t,e,n){return cr(Vu(t),r,e,n)}function ku(r,t,e,n){return Xi(r,t,e,n)}function Iu(r,t,e,n){return cr(ro(t),r,e,n)}function Nu(r,t,e,n){return cr(Zu(t,r.length-e),r,e,n)}function $u(r,t,e){return t===0&&e===r.length?Zi(r):Zi(r.slice(t,e))}function Ji(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=e){var l,f,u,c;switch(s){case 1:o<128&&(a=o);break;case 2:l=r[i+1],(l&192)===128&&(c=(o&31)<<6|l&63,c>127&&(a=c));break;case 3:l=r[i+1],f=r[i+2],(l&192)===128&&(f&192)===128&&(c=(o&15)<<12|(l&63)<<6|f&63,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:l=r[i+1],f=r[i+2],u=r[i+3],(l&192)===128&&(f&192)===128&&(u&192)===128&&(c=(o&15)<<18|(l&63)<<12|(f&63)<<6|u&63,c>65535&&c<1114112&&(a=c))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return Fu(n)}function Fu(r){var t=r.length;if(t<=Hi)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Hi));return e}function Uu(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function Bu(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function Ou(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=Mu(r[o]);return i}function Pu(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}function D(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}function q(r,t,e,n,i,o){if(!pe(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}function lr(r,t,e,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-e,2);i<o;++i)r[e+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function hr(r,t,e,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-e,4);i<o;++i)r[e+i]=t>>>(n?i:3-i)*8&255}function Qi(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function eo(r,t,e,n,i){return i||Qi(r,t,e,4,34028234663852886e22,-34028234663852886e22),io(r,t,e,n,23,4),e+4}function to(r,t,e,n,i){return i||Qi(r,t,e,8,17976931348623157e292,-17976931348623157e292),io(r,t,e,n,52,8),e+8}function zu(r){if(r=Lu(r).replace(Du,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Lu(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Mu(r){return r<16?"0"+r.toString(16):r.toString(16)}function ur(r,t){t=t||1/0;for(var e,n=r.length,i=null,o=[],a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Vu(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Zu(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function ro(r){return bu(zu(r))}function cr(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function Yu(r){return r!==r}function Hu(r){return r!=null&&(!!r._isBuffer||no(r)||ju(r))}function no(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function ju(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&no(r.slice(0,0))}function pr(r,t,e,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,f=l>>1,u=-7,c=e?i-1:0,p=e?-1:1,h=r[t+c];for(c+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=o*256+r[t+c],c+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+r[t+c],c+=p,u-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(h?-1:1)*a*Math.pow(2,o-n)}function io(r,t,e,n,i,o){var a,s,l,f=o*8-i-1,u=(1<<f)-1,c=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,g=n?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;r[e+h]=s&255,h+=g,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[e+h]=a&255,h+=g,a/=256,f-=8);r[e+h-g]|=w*128}var ce,ne,wu,on,Hi,Du,oo=P(()=>{m();_();ce=[],ne=[],wu=typeof Uint8Array!="undefined"?Uint8Array:Array,on=!1;d.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;d.poolSize=8192;d._augment=function(r){return r.__proto__=d.prototype,r};d.from=function(r,t,e){return Wi(null,r,t,e)};d.kMaxLength=fr();d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&d[Symbol.species]);d.alloc=function(r,t,e){return xu(null,r,t,e)};d.allocUnsafe=function(r){return an(null,r)};d.allocUnsafeSlow=function(r){return an(null,r)};d.isBuffer=Hu;d.compare=function(t,e){if(!pe(t)||!pe(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};d.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};d.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return d.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=d.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!pe(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};d.byteLength=Gi;d.prototype._isBuffer=!0;d.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Ve(this,e,e+1);return this};d.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Ve(this,e,e+3),Ve(this,e+1,e+2);return this};d.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Ve(this,e,e+7),Ve(this,e+1,e+6),Ve(this,e+2,e+5),Ve(this,e+3,e+4);return this};d.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Ji(this,0,t):Cu.apply(this,arguments)};d.prototype.equals=function(t){if(!pe(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:d.compare(this,t)===0};d.prototype.compare=function(t,e,n,i,o){if(!pe(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,l=Math.min(a,s),f=this.slice(i,o),u=t.slice(e,n),c=0;c<l;++c)if(f[c]!==u[c]){a=f[c],s=u[c];break}return a<s?-1:s<a?1:0};d.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};d.prototype.indexOf=function(t,e,n){return Ki(this,t,e,n,!0)};d.prototype.lastIndexOf=function(t,e,n){return Ki(this,t,e,n,!1)};d.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return Ru(this,t,e,n);case"utf8":case"utf-8":return Su(this,t,e,n);case"ascii":return Xi(this,t,e,n);case"latin1":case"binary":return ku(this,t,e,n);case"base64":return Iu(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nu(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Hi=4096;d.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(d.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=d.prototype;else{var o=e-t;i=new d(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i};d.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||D(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i};d.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||D(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i};d.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]};d.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8};d.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]};d.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};d.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};d.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||D(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};d.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||D(t,e,this.length);for(var i=e,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*e)),a};d.prototype.readInt8=function(t,e){return e||D(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};d.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};d.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};d.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};d.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};d.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),pr(this,t,!0,23,4)};d.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),pr(this,t,!1,23,4)};d.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),pr(this,t,!0,52,8)};d.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),pr(this,t,!1,52,8)};d.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;q(this,t,e,n,o,0)}var a=1,s=0;for(this[e]=t&255;++s<n&&(a*=256);)this[e+s]=t/a&255;return e+n};d.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;q(this,t,e,n,o,0)}var a=n-1,s=1;for(this[e+a]=t&255;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+n};d.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,1,255,0),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};d.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):lr(this,t,e,!0),e+2};d.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):lr(this,t,e,!1),e+2};d.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):hr(this,t,e,!0),e+4};d.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):hr(this,t,e,!1),e+4};d.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);q(this,t,e,n,o-1,-o)}var a=0,s=1,l=0;for(this[e]=t&255;++a<n&&(s*=256);)t<0&&l===0&&this[e+a-1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};d.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);q(this,t,e,n,o-1,-o)}var a=n-1,s=1,l=0;for(this[e+a]=t&255;--a>=0&&(s*=256);)t<0&&l===0&&this[e+a+1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};d.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,1,127,-128),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};d.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):lr(this,t,e,!0),e+2};d.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):lr(this,t,e,!1),e+2};d.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):hr(this,t,e,!0),e+4};d.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):hr(this,t,e,!1),e+4};d.prototype.writeFloatLE=function(t,e,n){return eo(this,t,e,!0,n)};d.prototype.writeFloatBE=function(t,e,n){return eo(this,t,e,!1,n)};d.prototype.writeDoubleLE=function(t,e,n){return to(this,t,e,!0,n)};d.prototype.writeDoubleBE=function(t,e,n){return to(this,t,e,!1,n)};d.prototype.copy=function(t,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n,a;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o};d.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var s=pe(t)?t:ur(new d(t,i).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};Du=/[^+\/0-9A-Za-z-_]/g});var _=P(()=>{oo()});function Tt(){if(!dr&&(dr=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dr(Wu)}var dr,Wu,fn=P(()=>{m();_();Wu=new Uint8Array(16)});var ao,so=P(()=>{m();_();ao=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function qu(r){return typeof r=="string"&&ao.test(r)}var Se,At=P(()=>{m();_();so();Se=qu});function Gu(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(M[r[t+0]]+M[r[t+1]]+M[r[t+2]]+M[r[t+3]]+"-"+M[r[t+4]]+M[r[t+5]]+"-"+M[r[t+6]]+M[r[t+7]]+"-"+M[r[t+8]]+M[r[t+9]]+"-"+M[r[t+10]]+M[r[t+11]]+M[r[t+12]]+M[r[t+13]]+M[r[t+14]]+M[r[t+15]]).toLowerCase();if(!Se(e))throw TypeError("Stringified UUID is invalid");return e}var M,mr,ke,Ct=P(()=>{m();_();At();M=[];for(mr=0;mr<256;++mr)M.push((mr+256).toString(16).substr(1));ke=Gu});function Ku(r,t,e){var n=t&&e||0,i=t||new Array(16);r=r||{};var o=r.node||fo,a=r.clockseq!==void 0?r.clockseq:un;if(o==null||a==null){var s=r.random||(r.rng||Tt)();o==null&&(o=fo=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=un=(s[6]<<8|s[7])&16383)}var l=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:hn+1,u=l-ln+(f-hn)/1e4;if(u<0&&r.clockseq===void 0&&(a=a+1&16383),(u<0||l>ln)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ln=l,hn=f,un=a,l+=122192928e5;var c=((l&268435455)*1e4+f)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;var p=l/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var h=0;h<6;++h)i[n+h]=o[h];return t||ke(i)}var fo,un,ln,hn,uo,lo=P(()=>{m();_();fn();Ct();ln=0,hn=0;uo=Ku});function Xu(r){if(!Se(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var _r,cn=P(()=>{m();_();At();_r=Xu});function Ju(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function gr(r,t,e){function n(i,o,a,s){if(typeof i=="string"&&(i=Ju(i)),typeof o=="string"&&(o=_r(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=l[f];return a}return ke(l)}try{n.name=r}catch(i){}return n.DNS=Qu,n.URL=el,n}var Qu,el,pn=P(()=>{m();_();Ct();cn();Qu="6ba7b810-9dad-11d1-80b4-00c04fd430c8",el="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function tl(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return rl(nl(il(r),r.length*8))}function rl(r){for(var t=[],e=r.length*32,n="0123456789abcdef",i=0;i<e;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(a)}return t}function ho(r){return(r+64>>>9<<4)+14+1}function nl(r,t){r[t>>5]|=128<<t%32,r[ho(t)-1]=t;for(var e=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=e,l=n,f=i,u=o;e=Z(e,n,i,o,r[a],7,-680876936),o=Z(o,e,n,i,r[a+1],12,-389564586),i=Z(i,o,e,n,r[a+2],17,606105819),n=Z(n,i,o,e,r[a+3],22,-1044525330),e=Z(e,n,i,o,r[a+4],7,-176418897),o=Z(o,e,n,i,r[a+5],12,1200080426),i=Z(i,o,e,n,r[a+6],17,-1473231341),n=Z(n,i,o,e,r[a+7],22,-45705983),e=Z(e,n,i,o,r[a+8],7,1770035416),o=Z(o,e,n,i,r[a+9],12,-1958414417),i=Z(i,o,e,n,r[a+10],17,-42063),n=Z(n,i,o,e,r[a+11],22,-1990404162),e=Z(e,n,i,o,r[a+12],7,1804603682),o=Z(o,e,n,i,r[a+13],12,-40341101),i=Z(i,o,e,n,r[a+14],17,-1502002290),n=Z(n,i,o,e,r[a+15],22,1236535329),e=Y(e,n,i,o,r[a+1],5,-165796510),o=Y(o,e,n,i,r[a+6],9,-1069501632),i=Y(i,o,e,n,r[a+11],14,643717713),n=Y(n,i,o,e,r[a],20,-373897302),e=Y(e,n,i,o,r[a+5],5,-701558691),o=Y(o,e,n,i,r[a+10],9,38016083),i=Y(i,o,e,n,r[a+15],14,-660478335),n=Y(n,i,o,e,r[a+4],20,-405537848),e=Y(e,n,i,o,r[a+9],5,568446438),o=Y(o,e,n,i,r[a+14],9,-1019803690),i=Y(i,o,e,n,r[a+3],14,-187363961),n=Y(n,i,o,e,r[a+8],20,1163531501),e=Y(e,n,i,o,r[a+13],5,-1444681467),o=Y(o,e,n,i,r[a+2],9,-51403784),i=Y(i,o,e,n,r[a+7],14,1735328473),n=Y(n,i,o,e,r[a+12],20,-1926607734),e=H(e,n,i,o,r[a+5],4,-378558),o=H(o,e,n,i,r[a+8],11,-2022574463),i=H(i,o,e,n,r[a+11],16,1839030562),n=H(n,i,o,e,r[a+14],23,-35309556),e=H(e,n,i,o,r[a+1],4,-1530992060),o=H(o,e,n,i,r[a+4],11,1272893353),i=H(i,o,e,n,r[a+7],16,-155497632),n=H(n,i,o,e,r[a+10],23,-1094730640),e=H(e,n,i,o,r[a+13],4,681279174),o=H(o,e,n,i,r[a],11,-358537222),i=H(i,o,e,n,r[a+3],16,-722521979),n=H(n,i,o,e,r[a+6],23,76029189),e=H(e,n,i,o,r[a+9],4,-640364487),o=H(o,e,n,i,r[a+12],11,-421815835),i=H(i,o,e,n,r[a+15],16,530742520),n=H(n,i,o,e,r[a+2],23,-995338651),e=j(e,n,i,o,r[a],6,-198630844),o=j(o,e,n,i,r[a+7],10,1126891415),i=j(i,o,e,n,r[a+14],15,-1416354905),n=j(n,i,o,e,r[a+5],21,-57434055),e=j(e,n,i,o,r[a+12],6,1700485571),o=j(o,e,n,i,r[a+3],10,-1894986606),i=j(i,o,e,n,r[a+10],15,-1051523),n=j(n,i,o,e,r[a+1],21,-2054922799),e=j(e,n,i,o,r[a+8],6,1873313359),o=j(o,e,n,i,r[a+15],10,-30611744),i=j(i,o,e,n,r[a+6],15,-1560198380),n=j(n,i,o,e,r[a+13],21,1309151649),e=j(e,n,i,o,r[a+4],6,-145523070),o=j(o,e,n,i,r[a+11],10,-1120210379),i=j(i,o,e,n,r[a+2],15,718787259),n=j(n,i,o,e,r[a+9],21,-343485551),e=Ie(e,s),n=Ie(n,l),i=Ie(i,f),o=Ie(o,u)}return[e,n,i,o]}function il(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(ho(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function Ie(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function ol(r,t){return r<<t|r>>>32-t}function wr(r,t,e,n,i,o){return Ie(ol(Ie(Ie(t,r),Ie(n,o)),i),e)}function Z(r,t,e,n,i,o,a){return wr(t&e|~t&n,r,t,i,o,a)}function Y(r,t,e,n,i,o,a){return wr(t&n|e&~n,r,t,i,o,a)}function H(r,t,e,n,i,o,a){return wr(t^e^n,r,t,i,o,a)}function j(r,t,e,n,i,o,a){return wr(e^(t|~n),r,t,i,o,a)}var co,po=P(()=>{m();_();co=tl});var al,mo,_o=P(()=>{m();_();pn();po();al=gr("v3",48,co),mo=al});function sl(r,t,e){r=r||{};var n=r.random||(r.rng||Tt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=n[i];return t}return ke(n)}var go,wo=P(()=>{m();_();fn();Ct();go=sl});function fl(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function dn(r,t){return r<<t|r>>>32-t}function ul(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),l=0;l<a;++l){for(var f=new Uint32Array(16),u=0;u<16;++u)f[u]=r[l*64+u*4]<<24|r[l*64+u*4+1]<<16|r[l*64+u*4+2]<<8|r[l*64+u*4+3];s[l]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var c=0;c<a;++c){for(var p=new Uint32Array(80),h=0;h<16;++h)p[h]=s[c][h];for(var g=16;g<80;++g)p[g]=dn(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var w=e[0],E=e[1],T=e[2],S=e[3],A=e[4],b=0;b<80;++b){var R=Math.floor(b/20),N=dn(w,5)+fl(R,E,T,S)+A+t[R]+p[b]>>>0;A=S,S=T,T=dn(E,30)>>>0,E=w,w=N}e[0]=e[0]+w>>>0,e[1]=e[1]+E>>>0,e[2]=e[2]+T>>>0,e[3]=e[3]+S>>>0,e[4]=e[4]+A>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var bo,vo=P(()=>{m();_();bo=ul});var ll,yo,xo=P(()=>{m();_();pn();vo();ll=gr("v5",80,bo),yo=ll});var Eo,To=P(()=>{m();_();Eo="00000000-0000-0000-0000-000000000000"});function hl(r){if(!Se(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Ao,Co=P(()=>{m();_();At();Ao=hl});var Ro={};Zf(Ro,{NIL:()=>Eo,parse:()=>_r,stringify:()=>ke,v1:()=>uo,v3:()=>mo,v4:()=>go,v5:()=>yo,validate:()=>Se,version:()=>Ao});var So=P(()=>{m();_();lo();_o();wo();xo();To();Co();At();Ct();cn()});var ko=fe(Rt=>{m();_();var br=(So(),Yf(Ro));Rt.encode=function(r){var t=br.parse(r),e=d.from(t).toString("base64"),n=e.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return n};Rt.decode=function(r){var t=r.replace(/-/g,"+").replace(/_/g,"/")+"==";return br.stringify(d.from(t,"base64"))};Rt.v4=function(){var r=br.v4(null,d.alloc(16)),t=r.toString("base64"),e=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return e};Rt.nice=function(){var r=br.v4(null,d.alloc(16));r[0]=r[0]&127;var t=r.toString("base64"),e=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return e}});var No=fe((Rd,Io)=>{m();_();Io.exports=ko()});var ra=fe(kt=>{"use strict";m();_();Object.defineProperty(kt,"__esModule",{value:!0});function yn(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Qo(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function xn(r,t,e){return t&&Qo(r.prototype,t),e&&Qo(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Zl(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&vn(r,t)}function ot(r){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(r)}function vn(r,t){return vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vn(r,t)}function Yl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function St(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Hl(r,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return St(r)}function jl(r){var t=Yl();return function(){var n=ot(r),i;if(t){var o=ot(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Hl(this,i)}}function Wl(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&(r=ot(r),r!==null););return r}function kr(){return typeof Reflect!="undefined"&&Reflect.get?kr=Reflect.get.bind():kr=function(t,e,n){var i=Wl(t,e);if(!!i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},kr.apply(this,arguments)}var ea=function(){function r(){yn(this,r),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return xn(r,[{key:"addEventListener",value:function(e,n,i){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:n,options:i})}},{key:"removeEventListener",value:function(e,n){if(e in this.listeners){for(var i=this.listeners[e],o=0,a=i.length;o<a;o++)if(i[o].callback===n){i.splice(o,1);return}}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var n=this.listeners[e.type],i=n.slice(),o=0,a=i.length;o<a;o++){var s=i[o];try{s.callback.call(this,e)}catch(l){Promise.resolve().then(function(){throw l})}s.options&&s.options.once&&this.removeEventListener(e.type,s.callback)}return!e.defaultPrevented}}}]),r}(),En=function(r){Zl(e,r);var t=jl(e);function e(){var n;return yn(this,e),n=t.call(this),n.listeners||ea.call(St(n)),Object.defineProperty(St(n),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(St(n),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(St(n),"reason",{value:void 0,writable:!0,configurable:!0}),n}return xn(e,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(i){i.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,i)),kr(ot(e.prototype),"dispatchEvent",this).call(this,i)}}]),e}(ea),ta=function(){function r(){yn(this,r),Object.defineProperty(this,"signal",{value:new En,writable:!0,configurable:!0})}return xn(r,[{key:"abort",value:function(e){var n;try{n=new Event("abort")}catch(o){typeof document!="undefined"?document.createEvent?(n=document.createEvent("Event"),n.initEvent("abort",!1,!1)):(n=document.createEventObject(),n.type="abort"):n={type:"abort",bubbles:!1,cancelable:!1}}var i=e;if(i===void 0)if(typeof document=="undefined")i=new Error("This operation was aborted"),i.name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch(o){i=new Error("This operation was aborted"),i.name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(n)}},{key:"toString",value:function(){return"[object AbortController]"}}]),r}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(ta.prototype[Symbol.toStringTag]="AbortController",En.prototype[Symbol.toStringTag]="AbortSignal");function ql(r){return r.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof r.Request=="function"&&!r.Request.prototype.hasOwnProperty("signal")||!r.AbortController}function Gl(r){typeof r=="function"&&(r={fetch:r});var t=r,e=t.fetch,n=t.Request,i=n===void 0?e.Request:n,o=t.AbortController,a=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=a===void 0?!1:a;if(!ql({fetch:e,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:e,Request:l};var l=i;(l&&!l.prototype.hasOwnProperty("signal")||s)&&(l=function(p,h){var g;h&&h.signal&&(g=h.signal,delete h.signal);var w=new i(p,h);return g&&Object.defineProperty(w,"signal",{writable:!1,enumerable:!1,configurable:!0,value:g}),w},l.prototype=i.prototype);var f=e,u=function(p,h){var g=l&&l.prototype.isPrototypeOf(p)?p.signal:h?h.signal:void 0;if(g){var w;try{w=new DOMException("Aborted","AbortError")}catch(T){w=new Error("Aborted"),w.name="AbortError"}if(g.aborted)return Promise.reject(w);var E=new Promise(function(T,S){g.addEventListener("abort",function(){return S(w)},{once:!0})});return h&&h.signal&&delete h.signal,Promise.race([E,f(p,h)])}return f(p,h)};return{fetch:u,Request:l}}kt.AbortController=ta;kt.AbortSignal=En;kt.abortableFetch=Gl});var Tn=fe(at=>{"use strict";m();_();Object.defineProperty(at,"__esModule",{value:!0});at.AbortSignal=at.AbortController=void 0;var na=ra(),Ir=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("unable to locate global object")},Kl=typeof Ir().AbortController=="undefined"?na.AbortController:Ir().AbortController;at.AbortController=Kl;var Xl=typeof Ir().AbortController=="undefined"?na.AbortSignal:Ir().AbortSignal;at.AbortSignal=Xl});var ia=fe(Rn=>{"use strict";m();_();Object.defineProperty(Rn,"__esModule",{value:!0});var Jl=Tn(),An=class{},Cn=class{constructor(){this.signals=new Set,this.abortController=new Jl.AbortController}addSignal(t=new An){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):typeof t.addEventListener=="function"&&t.addEventListener("abort",()=>{this.handleAborted(t)})}handleAborted(t){this.signals.delete(t),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}};Rn.default=Cn});var oa=fe(kn=>{"use strict";m();_();Object.defineProperty(kn,"__esModule",{value:!0});var Sn=class{constructor(){this.callbacks=new Set}addCallback(t=()=>{}){this.callbacks.add(t),t(this.currentMessage)}callback(t){this.currentMessage=t,this.callbacks.forEach(e=>{e(t)})}};kn.default=Sn});var sa=fe(It=>{"use strict";m();_();var aa=It&&It.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(It,"__esModule",{value:!0});var Ql=Tn(),eh=aa(ia()),th=aa(oa()),st=class{constructor({fill:t,cache:e}){if(typeof t!="function")throw new TypeError("must pass a fill function");if(typeof e!="object")throw new TypeError("must pass a cache object");if(typeof e.get!="function"||typeof e.set!="function"||typeof e.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=e,this.fillCallback=t}static isAbortException(t){return t.name==="AbortError"||t.code==="ERR_ABORTED"||t.message==="AbortError: aborted"||t.message==="Error: aborted"}evict(t,e){this.cache.get(t)===e&&this.cache.delete(t)}fill(t,e,n,i){let o=new eh.default,a=new th.default;a.addCallback(i);let s={aborter:o,promise:this.fillCallback(e,o.signal,l=>{a.callback(l)}),settled:!1,statusReporter:a,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(n),s.aborter.signal.addEventListener("abort",()=>{s.settled||this.evict(t,s)}),s.promise.then(()=>{s.settled=!0},()=>{s.settled=!0,this.evict(t,s)}).catch(l=>{throw console.error(l),l}),this.cache.set(t,s)}static checkSinglePromise(t,e){function n(){if(e&&e.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then(i=>(n(),i),i=>{throw n(),i})}has(t){return this.cache.has(t)}get(t,e,n,i){if(!n&&e instanceof Ql.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");let o=this.cache.get(t);return o?o.aborted&&!o.settled?(this.evict(t,o),this.get(t,e,n,i)):o.settled?o.promise:(o.aborter.addSignal(n),o.statusReporter.addCallback(i),st.checkSinglePromise(o.promise,n)):(this.fill(t,e,n,i),st.checkSinglePromise(this.cache.get(t).promise,n))}delete(t){let e=this.cache.get(t);e&&(e.settled||e.aborter.abort(),this.cache.delete(t))}clear(){let t=this.cache.keys(),e=0;for(let n=t.next();!n.done;n=t.next())this.delete(n.value),e+=1;return e}};It.default=st});var In=fe(Nt=>{"use strict";m();_();var rh=Nt&&Nt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nt,"__esModule",{value:!0});var nh=rh(sa());Nt.default=nh.default});var $n=fe((zd,fa)=>{"use strict";m();_();var Nn=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){let e=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,e),e}}set(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){let e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache)yield t;for(let t of this.oldCache){let[e]=t;this.cache.has(e)||(yield t)}}get size(){let t=0;for(let e of this.oldCache.keys())this.cache.has(e)||t++;return this._size+t}};fa.exports=Nn});var Fs=fe(()=>{m();_()});var af=fe((mm,Hr)=>{m();_();var Us,Bs,Os,Ps,Ds,zs,Ls,Ms,Vs,Zs,Ys,Hs,js,Zr,pi,Ws,qs,Gs,wt,Ks,Xs,Js,Qs,ef,tf,rf,nf,of,Yr;(function(r){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(e(t,e(n)))}):typeof Hr=="object"&&typeof Hr.exports=="object"?r(e(t,e(Hr.exports))):r(e(t));function e(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,a){return n[o]=i?i(o,a):a}}})(function(r){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};Us=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},Bs=Object.assign||function(n){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Os=function(n,i){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)i.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(o[a[s]]=n[a[s]]);return o},Ps=function(n,i,o,a){var s=arguments.length,l=s<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,i,o,a);else for(var u=n.length-1;u>=0;u--)(f=n[u])&&(l=(s<3?f(l):s>3?f(i,o,l):f(i,o))||l);return s>3&&l&&Object.defineProperty(i,o,l),l},Ds=function(n,i){return function(o,a){i(o,a,n)}},zs=function(n,i,o,a,s,l){function f(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var u=a.kind,c=u==="getter"?"get":u==="setter"?"set":"value",p=!i&&n?a.static?n:n.prototype:null,h=i||(p?Object.getOwnPropertyDescriptor(p,a.name):{}),g,w=!1,E=o.length-1;E>=0;E--){var T={};for(var S in a)T[S]=S==="access"?{}:a[S];for(var S in a.access)T.access[S]=a.access[S];T.addInitializer=function(b){if(w)throw new TypeError("Cannot add initializers after decoration has completed");l.push(f(b||null))};var A=(0,o[E])(u==="accessor"?{get:h.get,set:h.set}:h[c],T);if(u==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(g=f(A.get))&&(h.get=g),(g=f(A.set))&&(h.set=g),(g=f(A.init))&&s.push(g)}else(g=f(A))&&(u==="field"?s.push(g):h[c]=g)}p&&Object.defineProperty(p,a.name,h),w=!0},Ls=function(n,i,o){for(var a=arguments.length>2,s=0;s<i.length;s++)o=a?i[s].call(n,o):i[s].call(n);return a?o:void 0},Ms=function(n){return typeof n=="symbol"?n:"".concat(n)},Vs=function(n,i,o){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},Zs=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Ys=function(n,i,o,a){function s(l){return l instanceof o?l:new o(function(f){f(l)})}return new(o||(o=Promise))(function(l,f){function u(h){try{p(a.next(h))}catch(g){f(g)}}function c(h){try{p(a.throw(h))}catch(g){f(g)}}function p(h){h.done?l(h.value):s(h.value).then(u,c)}p((a=a.apply(n,i||[])).next())})},Hs=function(n,i){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,f;return f={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function u(p){return function(h){return c([p,h])}}function c(p){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(o=0)),o;)try{if(a=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return o.label++,{value:p[1],done:!1};case 5:o.label++,s=p[1],p=[0];continue;case 7:p=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){o=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){o.label=p[1];break}if(p[0]===6&&o.label<l[1]){o.label=l[1],l=p;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(p);break}l[2]&&o.ops.pop(),o.trys.pop();continue}p=i.call(n,o)}catch(h){p=[6,h],s=0}finally{a=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},js=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Yr(i,n,o)},Yr=Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]},Zr=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},pi=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,l=[],f;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){f={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(f)throw f.error}}return l},Ws=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(pi(arguments[i]));return n},qs=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var a=Array(n),s=0,i=0;i<o;i++)for(var l=arguments[i],f=0,u=l.length;f<u;f++,s++)a[s]=l[f];return a},Gs=function(n,i,o){if(o||arguments.length===2)for(var a=0,s=i.length,l;a<s;a++)(l||!(a in i))&&(l||(l=Array.prototype.slice.call(i,0,a)),l[a]=i[a]);return n.concat(l||Array.prototype.slice.call(i))},wt=function(n){return this instanceof wt?(this.v=n,this):new wt(n)},Ks=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,i||[]),s,l=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){a[w]&&(s[w]=function(E){return new Promise(function(T,S){l.push([w,E,T,S])>1||u(w,E)})})}function u(w,E){try{c(a[w](E))}catch(T){g(l[0][3],T)}}function c(w){w.value instanceof wt?Promise.resolve(w.value.v).then(p,h):g(l[0][2],w)}function p(w){u("next",w)}function h(w){u("throw",w)}function g(w,E){w(E),l.shift(),l.length&&u(l[0][0],l[0][1])}},Xs=function(n){var i,o;return i={},a("next"),a("throw",function(s){throw s}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(s,l){i[s]=n[s]?function(f){return(o=!o)?{value:wt(n[s](f)),done:!1}:l?l(f):f}:l}},Js=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Zr=="function"?Zr(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=n[l]&&function(f){return new Promise(function(u,c){f=n[l](f),s(u,c,f.done,f.value)})}}function s(l,f,u,c){Promise.resolve(c).then(function(p){l({value:p,done:u})},f)}},Qs=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var e=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};ef=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Yr(i,n,o);return e(i,n),i},tf=function(n){return n&&n.__esModule?n:{default:n}},rf=function(n,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(n):a?a.value:i.get(n)},nf=function(n,i,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(n,o):s?s.value=o:i.set(n,o),o},of=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",Us),r("__assign",Bs),r("__rest",Os),r("__decorate",Ps),r("__param",Ds),r("__esDecorate",zs),r("__runInitializers",Ls),r("__propKey",Ms),r("__setFunctionName",Vs),r("__metadata",Zs),r("__awaiter",Ys),r("__generator",Hs),r("__exportStar",js),r("__createBinding",Yr),r("__values",Zr),r("__read",pi),r("__spread",Ws),r("__spreadArrays",qs),r("__spreadArray",Gs),r("__await",wt),r("__asyncGenerator",Ks),r("__asyncDelegator",Xs),r("__asyncValues",Js),r("__makeTemplateObject",Qs),r("__importStar",ef),r("__importDefault",tf),r("__classPrivateFieldGet",rf),r("__classPrivateFieldSet",nf),r("__classPrivateFieldIn",of)})});m();_();m();_();var Bf=ze(No(),1);m();_();m();_();m();_();var vr=BigInt(32);function $o(r,t,e){let n=Number(!!e),i=Number(!e);return BigInt(r.getInt32(t,e)*i+r.getInt32(t+4,e)*n)<<vr|BigInt(r.getUint32(t,e)*n+r.getUint32(t+4,e)*i)}function Fo(r,t,e){let n=r.getUint32(t,e),i=r.getUint32(t+4,e),o=Number(!!e),a=Number(!e);return BigInt(n*a+i*o)<<vr|BigInt(n*o+i*a)}function Uo(r,t,e,n){let i=Number(e>>vr),o=Number(e&BigInt(4294967295));n?(r.setInt32(t+4,i,n),r.setUint32(t,o,n)):(r.setInt32(t,i,n),r.setUint32(t+4,o,n))}function Bo(r,t,e,n){let i=Number(e>>vr),o=Number(e&BigInt(4294967295));n?(r.setUint32(t+4,i,n),r.setUint32(t,o,n)):(r.setUint32(t,i,n),r.setUint32(t+4,o,n))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(r,t){return $o(this,r,t)});"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(r,t){return Fo(this,r,t)});"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(r,t,e){Uo(this,r,t,e)});"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(r,t,e){Bo(this,r,t,e)});m();_();m();_();m();_();var de=[],ie=[],cl=typeof Uint8Array!="undefined"?Uint8Array:Array,_n=!1;function zo(){_n=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=r.length;t<e;++t)de[t]=r[t],ie[r.charCodeAt(t)]=t;ie["-".charCodeAt(0)]=62,ie["_".charCodeAt(0)]=63}function pl(r){_n||zo();var t,e,n,i,o,a,s=r.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[s-2]==="="?2:r[s-1]==="="?1:0,a=new cl(s*3/4-o),n=o>0?s-4:s;var l=0;for(t=0,e=0;t<n;t+=4,e+=3)i=ie[r.charCodeAt(t)]<<18|ie[r.charCodeAt(t+1)]<<12|ie[r.charCodeAt(t+2)]<<6|ie[r.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=i&255;return o===2?(i=ie[r.charCodeAt(t)]<<2|ie[r.charCodeAt(t+1)]>>4,a[l++]=i&255):o===1&&(i=ie[r.charCodeAt(t)]<<10|ie[r.charCodeAt(t+1)]<<4|ie[r.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=i&255),a}function dl(r){return de[r>>18&63]+de[r>>12&63]+de[r>>6&63]+de[r&63]}function ml(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],i.push(dl(n));return i.join("")}function Oo(r){_n||zo();for(var t,e=r.length,n=e%3,i="",o=[],a=16383,s=0,l=e-n;s<l;s+=a)o.push(ml(r,s,s+a>l?l:s+a));return n===1?(t=r[e-1],i+=de[t>>2],i+=de[t<<4&63],i+="=="):n===2&&(t=(r[e-2]<<8)+r[e-1],i+=de[t>>10],i+=de[t>>4&63],i+=de[t<<2&63],i+="="),o.push(i),o.join("")}function Er(r,t,e,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,f=l>>1,u=-7,c=e?i-1:0,p=e?-1:1,h=r[t+c];for(c+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=o*256+r[t+c],c+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+r[t+c],c+=p,u-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(h?-1:1)*a*Math.pow(2,o-n)}function Lo(r,t,e,n,i,o){var a,s,l,f=o*8-i-1,u=(1<<f)-1,c=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,g=n?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;r[e+h]=s&255,h+=g,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[e+h]=a&255,h+=g,a/=256,f-=8);r[e+h-g]|=w*128}var _l={}.toString,Mo=Array.isArray||function(r){return _l.call(r)=="[object Array]"};var gl=50;v.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;var Id=yr();function yr(){return v.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function xe(r,t){if(yr()<t)throw new RangeError("Invalid typed array length");return v.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=v.prototype):(r===null&&(r=new v(t)),r.length=t),r}function v(r,t,e){if(!v.TYPED_ARRAY_SUPPORT&&!(this instanceof v))return new v(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return gn(this,r)}return Vo(this,r,t,e)}v.poolSize=8192;v._augment=function(r){return r.__proto__=v.prototype,r};function Vo(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?vl(r,t,e,n):typeof t=="string"?bl(r,t,e):yl(r,t)}v.from=function(r,t,e){return Vo(null,r,t,e)};v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array);function Zo(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function wl(r,t,e,n){return Zo(t),t<=0?xe(r,t):e!==void 0?typeof n=="string"?xe(r,t).fill(e,n):xe(r,t).fill(e):xe(r,t)}v.alloc=function(r,t,e){return wl(null,r,t,e)};function gn(r,t){if(Zo(t),r=xe(r,t<0?0:wn(t)|0),!v.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}v.allocUnsafe=function(r){return gn(null,r)};v.allocUnsafeSlow=function(r){return gn(null,r)};function bl(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!v.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=Yo(t,e)|0;r=xe(r,n);var i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function mn(r,t){var e=t.length<0?0:wn(t.length)|0;r=xe(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function vl(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),v.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=v.prototype):r=mn(r,t),r}function yl(r,t){if(me(t)){var e=wn(t.length)|0;return r=xe(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Ll(t.length)?xe(r,0):mn(r,t);if(t.type==="Buffer"&&Mo(t.data))return mn(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function wn(r){if(r>=yr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+yr().toString(16)+" bytes");return r|0}v.isBuffer=Ml;function me(r){return!!(r!=null&&r._isBuffer)}v.compare=function(t,e){if(!me(t)||!me(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};v.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};v.concat=function(t,e){if(!Mo(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return v.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=v.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!me(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};function Yo(r,t){if(me(r))return r.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return xr(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Xo(r).length;default:if(n)return xr(r).length;t=(""+t).toLowerCase(),n=!0}}v.byteLength=Yo;function xl(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return $l(this,t,e);case"utf8":case"utf-8":return Wo(this,t,e);case"ascii":return Il(this,t,e);case"latin1":case"binary":return Nl(this,t,e);case"base64":return Sl(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fl(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}v.prototype._isBuffer=!0;function Ze(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}v.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Ze(this,e,e+1);return this};v.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Ze(this,e,e+3),Ze(this,e+1,e+2);return this};v.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Ze(this,e,e+7),Ze(this,e+1,e+6),Ze(this,e+2,e+5),Ze(this,e+3,e+4);return this};v.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Wo(this,0,t):xl.apply(this,arguments)};v.prototype.equals=function(t){if(!me(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:v.compare(this,t)===0};v.prototype.inspect=function(){var t="",e=gl;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"};v.prototype.compare=function(t,e,n,i,o){if(!me(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,l=Math.min(a,s),f=this.slice(i,o),u=t.slice(e,n),c=0;c<l;++c)if(f[c]!==u[c]){a=f[c],s=u[c];break}return a<s?-1:s<a?1:0};function Ho(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=v.from(t,n)),me(t))return t.length===0?-1:Po(r,t,e,n,i);if(typeof t=="number")return t=t&255,v.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):Po(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Po(r,t,e,n,i){var o=1,a=r.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,a/=2,s/=2,e/=2}function l(h,g){return o===1?h[g]:h.readUInt16BE(g*o)}var f;if(i){var u=-1;for(f=e;f<a;f++)if(l(r,f)===l(t,u===-1?0:f-u)){if(u===-1&&(u=f),f-u+1===s)return u*o}else u!==-1&&(f-=f-u),u=-1}else for(e+s>a&&(e=a-s),f=e;f>=0;f--){for(var c=!0,p=0;p<s;p++)if(l(r,f+p)!==l(t,p)){c=!1;break}if(c)return f}return-1}v.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};v.prototype.indexOf=function(t,e,n){return Ho(this,t,e,n,!0)};v.prototype.lastIndexOf=function(t,e,n){return Ho(this,t,e,n,!1)};function El(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;r[e+a]=s}return a}function Tl(r,t,e,n){return Cr(xr(t,r.length-e),r,e,n)}function jo(r,t,e,n){return Cr(Dl(t),r,e,n)}function Al(r,t,e,n){return jo(r,t,e,n)}function Cl(r,t,e,n){return Cr(Xo(t),r,e,n)}function Rl(r,t,e,n){return Cr(zl(t,r.length-e),r,e,n)}v.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return El(this,t,e,n);case"utf8":case"utf-8":return Tl(this,t,e,n);case"ascii":return jo(this,t,e,n);case"latin1":case"binary":return Al(this,t,e,n);case"base64":return Cl(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rl(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Sl(r,t,e){return t===0&&e===r.length?Oo(r):Oo(r.slice(t,e))}function Wo(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=e){var l,f,u,c;switch(s){case 1:o<128&&(a=o);break;case 2:l=r[i+1],(l&192)===128&&(c=(o&31)<<6|l&63,c>127&&(a=c));break;case 3:l=r[i+1],f=r[i+2],(l&192)===128&&(f&192)===128&&(c=(o&15)<<12|(l&63)<<6|f&63,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:l=r[i+1],f=r[i+2],u=r[i+3],(l&192)===128&&(f&192)===128&&(u&192)===128&&(c=(o&15)<<18|(l&63)<<12|(f&63)<<6|u&63,c>65535&&c<1114112&&(a=c))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return kl(n)}var Do=4096;function kl(r){var t=r.length;if(t<=Do)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Do));return e}function Il(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function Nl(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function $l(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=Pl(r[o]);return i}function Fl(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}v.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(v.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=v.prototype;else{var o=e-t;i=new v(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i};function z(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||z(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i};v.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||z(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i};v.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]};v.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8};v.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]};v.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};v.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};v.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||z(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};v.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||z(t,e,this.length);for(var i=e,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*e)),a};v.prototype.readInt8=function(t,e){return e||z(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};v.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};v.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};v.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};v.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};v.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),Er(this,t,!0,23,4)};v.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),Er(this,t,!1,23,4)};v.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),Er(this,t,!0,52,8)};v.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),Er(this,t,!1,52,8)};function G(r,t,e,n,i,o){if(!me(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}v.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;G(this,t,e,n,o,0)}var a=1,s=0;for(this[e]=t&255;++s<n&&(a*=256);)this[e+s]=t/a&255;return e+n};v.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;G(this,t,e,n,o,0)}var a=n-1,s=1;for(this[e+a]=t&255;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+n};v.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,1,255,0),v.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};function Tr(r,t,e,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-e,2);i<o;++i)r[e+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}v.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Tr(this,t,e,!0),e+2};v.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Tr(this,t,e,!1),e+2};function Ar(r,t,e,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-e,4);i<o;++i)r[e+i]=t>>>(n?i:3-i)*8&255}v.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):Ar(this,t,e,!0),e+4};v.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Ar(this,t,e,!1),e+4};v.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);G(this,t,e,n,o-1,-o)}var a=0,s=1,l=0;for(this[e]=t&255;++a<n&&(s*=256);)t<0&&l===0&&this[e+a-1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};v.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);G(this,t,e,n,o-1,-o)}var a=n-1,s=1,l=0;for(this[e+a]=t&255;--a>=0&&(s*=256);)t<0&&l===0&&this[e+a+1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};v.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,1,127,-128),v.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};v.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Tr(this,t,e,!0),e+2};v.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Tr(this,t,e,!1),e+2};v.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,4,2147483647,-2147483648),v.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Ar(this,t,e,!0),e+4};v.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||G(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),v.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Ar(this,t,e,!1),e+4};function qo(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Go(r,t,e,n,i){return i||qo(r,t,e,4),Lo(r,t,e,n,23,4),e+4}v.prototype.writeFloatLE=function(t,e,n){return Go(this,t,e,!0,n)};v.prototype.writeFloatBE=function(t,e,n){return Go(this,t,e,!1,n)};function Ko(r,t,e,n,i){return i||qo(r,t,e,8),Lo(r,t,e,n,52,8),e+8}v.prototype.writeDoubleLE=function(t,e,n){return Ko(this,t,e,!0,n)};v.prototype.writeDoubleBE=function(t,e,n){return Ko(this,t,e,!1,n)};v.prototype.copy=function(t,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n,a;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!v.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o};v.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!v.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var s=me(t)?t:xr(new v(t,i).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var Ul=/[^+\/0-9A-Za-z-_]/g;function Bl(r){if(r=Ol(r).replace(Ul,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Ol(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Pl(r){return r<16?"0"+r.toString(16):r.toString(16)}function xr(r,t){t=t||1/0;for(var e,n=r.length,i=null,o=[],a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Dl(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function zl(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function Xo(r){return pl(Bl(r))}function Cr(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function Ll(r){return r!==r}function Ml(r){return r!=null&&(!!r._isBuffer||Jo(r)||Vl(r))}function Jo(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Vl(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&Jo(r.slice(0,0))}m();_();var bn=class{constructor(t,e){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=t,this.useContextVariables=e}generateVariable(t){let e=[...this.scopes[this.scopes.length-1]];return t&&e.push(t),e.join(".")}generateOption(t){switch(typeof t){case"number":return t.toString();case"string":return this.generateVariable(t);case"function":return`${this.addImport(t)}.call(${this.generateVariable()}, vars)`}}generateError(t){this.pushCode(`throw new Error(${t});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(t){this.code+=t+`
`}pushPath(t){t&&this.scopes[this.scopes.length-1].push(t)}popPath(t){t&&this.scopes[this.scopes.length-1].pop()}pushScope(t){this.scopes.push([t])}popScope(){this.scopes.pop()}addImport(t){if(!this.importPath)return`(${t})`;let e=this.reverseImports.get(t);return e||(e=this.imports.push(t)-1,this.reverseImports.set(t,e)),`${this.importPath}[${e}]`}addReference(t){this.references.has(t)||this.references.set(t,{resolved:!1,requested:!1})}markResolved(t){let e=this.references.get(t);e&&(e.resolved=!0)}markRequested(t){t.forEach(e=>{let n=this.references.get(e);n&&(n.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([t,e])=>!e.resolved&&!e.requested).map(([t,e])=>t)}},ue=new Map,Ye="___parser_",le={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Rr={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},Sr={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},F=class{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new F}primitiveGenerateN(t,e){let n=Rr[t],i=Sr[t];e.pushCode(`${e.generateVariable(this.varName)} = dataView.get${n}(offset, ${i});`),e.pushCode(`offset += ${le[t]};`)}primitiveN(t,e,n){return this.setNextParser(t,e,n)}useThisEndian(t){return t+this.endian.toLowerCase()}uint8(t,e={}){return this.primitiveN("uint8",t,e)}uint16(t,e={}){return this.primitiveN(this.useThisEndian("uint16"),t,e)}uint16le(t,e={}){return this.primitiveN("uint16le",t,e)}uint16be(t,e={}){return this.primitiveN("uint16be",t,e)}uint32(t,e={}){return this.primitiveN(this.useThisEndian("uint32"),t,e)}uint32le(t,e={}){return this.primitiveN("uint32le",t,e)}uint32be(t,e={}){return this.primitiveN("uint32be",t,e)}int8(t,e={}){return this.primitiveN("int8",t,e)}int16(t,e={}){return this.primitiveN(this.useThisEndian("int16"),t,e)}int16le(t,e={}){return this.primitiveN("int16le",t,e)}int16be(t,e={}){return this.primitiveN("int16be",t,e)}int32(t,e={}){return this.primitiveN(this.useThisEndian("int32"),t,e)}int32le(t,e={}){return this.primitiveN("int32le",t,e)}int32be(t,e={}){return this.primitiveN("int32be",t,e)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(t,e={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),t,e)}int64be(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",t,e)}int64le(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",t,e)}uint64(t,e={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),t,e)}uint64be(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",t,e)}uint64le(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",t,e)}floatle(t,e={}){return this.primitiveN("floatle",t,e)}floatbe(t,e={}){return this.primitiveN("floatbe",t,e)}doublele(t,e={}){return this.primitiveN("doublele",t,e)}doublebe(t,e={}){return this.primitiveN("doublebe",t,e)}bitN(t,e,n){return n.length=t,this.setNextParser("bit",e,n)}bit1(t,e={}){return this.bitN(1,t,e)}bit2(t,e={}){return this.bitN(2,t,e)}bit3(t,e={}){return this.bitN(3,t,e)}bit4(t,e={}){return this.bitN(4,t,e)}bit5(t,e={}){return this.bitN(5,t,e)}bit6(t,e={}){return this.bitN(6,t,e)}bit7(t,e={}){return this.bitN(7,t,e)}bit8(t,e={}){return this.bitN(8,t,e)}bit9(t,e={}){return this.bitN(9,t,e)}bit10(t,e={}){return this.bitN(10,t,e)}bit11(t,e={}){return this.bitN(11,t,e)}bit12(t,e={}){return this.bitN(12,t,e)}bit13(t,e={}){return this.bitN(13,t,e)}bit14(t,e={}){return this.bitN(14,t,e)}bit15(t,e={}){return this.bitN(15,t,e)}bit16(t,e={}){return this.bitN(16,t,e)}bit17(t,e={}){return this.bitN(17,t,e)}bit18(t,e={}){return this.bitN(18,t,e)}bit19(t,e={}){return this.bitN(19,t,e)}bit20(t,e={}){return this.bitN(20,t,e)}bit21(t,e={}){return this.bitN(21,t,e)}bit22(t,e={}){return this.bitN(22,t,e)}bit23(t,e={}){return this.bitN(23,t,e)}bit24(t,e={}){return this.bitN(24,t,e)}bit25(t,e={}){return this.bitN(25,t,e)}bit26(t,e={}){return this.bitN(26,t,e)}bit27(t,e={}){return this.bitN(27,t,e)}bit28(t,e={}){return this.bitN(28,t,e)}bit29(t,e={}){return this.bitN(29,t,e)}bit30(t,e={}){return this.bitN(30,t,e)}bit31(t,e={}){return this.bitN(31,t,e)}bit32(t,e={}){return this.bitN(32,t,e)}namely(t){return ue.set(t,this),this.alias=t,this}skip(t,e={}){return this.seek(t,e)}seek(t,e={}){if(e.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:t})}string(t,e){if(!e.zeroTerminated&&!e.length&&!e.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((e.zeroTerminated||e.length)&&e.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(e.stripNull&&!(e.length||e.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return e.encoding=e.encoding||"utf8",this.setNextParser("string",t,e)}buffer(t,e){if(!e.length&&!e.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",t,e)}wrapped(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e||!e.wrapper||!e.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!e.length&&!e.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",t,e)}array(t,e){if(!e.readUntil&&!e.length&&!e.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!e.type)throw new Error("type is required for array.");if(typeof e.type=="string"&&!ue.has(e.type)&&!(e.type in le))throw new Error(`Array element type "${e.type}" is unkown.`);return this.setNextParser("array",t,e)}choice(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e)throw new Error("tag and choices are are required for choice.");if(!e.tag)throw new Error("tag is requird for choice.");if(!e.choices)throw new Error("choices is required for choice.");for(let n in e.choices){let i=parseInt(n,10),o=e.choices[i];if(isNaN(i))throw new Error(`Choice key "${n}" is not a number.`);if(typeof o=="string"&&!ue.has(o)&&!(o in le))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",t,e)}nest(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e||!e.type)throw new Error("type is required for nest.");if(!(e.type instanceof F)&&!ue.has(e.type))throw new Error("type must be a known parser name or a Parser object.");if(!(e.type instanceof F)&&!t)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",t,e)}pointer(t,e){if(!e.offset)throw new Error("offset is required for pointer.");if(!e.type)throw new Error("type is required for pointer.");if(typeof e.type=="string"&&!(e.type in le)&&!ue.has(e.type))throw new Error(`Pointer type "${e.type}" is unkown.`);return this.setNextParser("pointer",t,e)}saveOffset(t,e={}){return this.setNextParser("saveOffset",t,e)}endianness(t){switch(t.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(t){return this.endianness(t)}useContextVars(t=!0){return this.useContextVariables=t,this}create(t){if(!(t instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=t,this}getContext(t){let e=new bn(t,this.useContextVariables);return e.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(e),e.pushCode(`return ${Ye+this.alias}(0).result;`)):this.addRawCode(e),e}getCode(){let t="imports";return this.getContext(t).code}addRawCode(t){t.pushCode("var offset = 0;"),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("vars.$parent = null;"),t.pushCode("vars.$root = vars;"),this.generate(t),this.resolveReferences(t),t.pushCode("delete vars.$parent;"),t.pushCode("delete vars.$root;"),t.pushCode("return vars;")}addAliasedCode(t){return t.pushCode(`function ${Ye+this.alias}(offset, context) {`),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),t.pushCode("vars = Object.assign(vars, ctx);"),this.generate(t),t.markResolved(this.alias),this.resolveReferences(t),t.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),t.pushCode("return { offset: offset, result: vars };"),t.pushCode("}"),t}resolveReferences(t){let e=t.getUnresolvedReferences();t.markRequested(e),e.forEach(n=>{var i;(i=ue.get(n))===null||i===void 0||i.addAliasedCode(t)})}compile(){let t="imports",e=this.getContext(t);this.compiled=new Function(t,"TextDecoder",`return function (buffer, constructorFn) { ${e.code} };`)(e.imports,TextDecoder)}sizeOf(){let t=NaN;if(Object.keys(le).indexOf(this.type)>=0)t=le[this.type];else if(this.type==="string"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let e=NaN;typeof this.options.type=="string"?e=le[this.options.type]:this.options.type instanceof F&&(e=this.options.type.sizeOf()),t=this.options.length*e}else this.type==="seek"?t=this.options.length:this.type==="nest"?t=this.options.type.sizeOf():this.type||(t=0);return this.next&&(t+=this.next.sizeOf()),t}parse(t){return this.compiled||this.compile(),this.compiled(t,this.constructorFn)}setNextParser(t,e,n){let i=new F;return i.type=t,i.varName=e,i.options=n,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(t){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,t);break;case"bit":this.generateBit(t);break;case"string":this.generateString(t);break;case"buffer":this.generateBuffer(t);break;case"seek":this.generateSeek(t);break;case"nest":this.generateNest(t);break;case"array":this.generateArray(t);break;case"choice":this.generateChoice(t);break;case"pointer":this.generatePointer(t);break;case"saveOffset":this.generateSaveOffset(t);break;case"wrapper":this.generateWrapper(t);break}this.type!=="bit"&&this.generateAssert(t)}let e=t.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(t,e,this.options.formatter),this.generateNext(t)}generateAssert(t){if(!this.options.assert)return;let e=t.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let n=t.addImport(this.options.assert);t.pushCode(`if (!${n}.call(vars, ${e})) {`)}break;case"number":t.pushCode(`if (${this.options.assert} !== ${e}) {`);break;case"string":t.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${e}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}t.generateError(`"Assertion error: ${e} is " + ${JSON.stringify(this.options.assert.toString())}`),t.pushCode("}")}generateNext(t){return this.next&&(t=this.next.generate(t)),t}generateBit(t){let e=JSON.parse(JSON.stringify(this));if(e.options=this.options,e.generateAssert=this.generateAssert.bind(this),e.generateFormatter=this.generateFormatter.bind(this),e.varName=t.generateVariable(e.varName),t.bitFields.push(e),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let n=t.generateTmpVariable();t.pushCode(`var ${n} = 0;`);let i=(u=0)=>{let c=0;for(let p=u;p<t.bitFields.length;p++){let h=t.bitFields[p].options.length;if(c+h>32)break;c+=h}return c},o=u=>(u<=8?(t.pushCode(`${n} = dataView.getUint8(offset);`),u=8):u<=16?(t.pushCode(`${n} = dataView.getUint16(offset);`),u=16):u<=24?(t.pushCode(`${n} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(t.pushCode(`${n} = dataView.getUint32(offset);`),u=32),t.pushCode(`offset += ${u/8};`),u),a=0,s=this.endian==="be",l=0,f=0;t.bitFields.forEach((u,c)=>{let p=u.options.length;if(p>f){if(f){let w=-1>>>32-f;t.pushCode(`${u.varName} = (${n} & 0x${w.toString(16)}) << ${p-f};`),p-=f}a=0,f=l=o(i(c)-f)}let h=s?l-a-p:a,g=-1>>>32-p;t.pushCode(`${u.varName} ${p<u.options.length?"|=":"="} ${n} >> ${h} & 0x${g.toString(16)};`),u.options.length===32&&t.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(t),u.options.formatter&&u.generateFormatter(t,u.varName,u.options.formatter),a+=p,f-=p}),t.bitFields=[]}}generateSeek(t){let e=t.generateOption(this.options.length);t.pushCode(`offset += ${e};`)}generateString(t){let e=t.generateVariable(this.varName),n=t.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",a='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let s=this.options.length;t.pushCode(`var ${n} = offset;`),t.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${n} < ${s});`);let l=`offset - ${n} < ${s} ? offset - 1 : offset`;t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, ${l}), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, ${l}));`)}else if(this.options.length){let s=t.generateOption(this.options.length);t.pushCode(o?`${e} = Array.from(buffer.subarray(offset, offset + ${s}), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${s}));`),t.pushCode(`offset += ${s};`)}else this.options.zeroTerminated?(t.pushCode(`var ${n} = offset;`),t.pushCode("while(dataView.getUint8(offset++) !== 0);"),t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, offset - 1), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, offset - 1));`)):this.options.greedy&&(t.pushCode(`var ${n} = offset;`),t.pushCode("while(buffer.length > offset++);"),t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, offset), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, offset));`));this.options.stripNull&&t.pushCode(`${e} = ${e}.replace(/\\x00+$/g, '')`)}generateBuffer(t){let e=t.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let n=this.options.readUntil,i=t.generateTmpVariable(),o=t.generateTmpVariable();t.pushCode(`var ${i} = offset;`),t.pushCode(`var ${o} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${o} = dataView.getUint8(offset);`);let a=t.addImport(n);t.pushCode(`if (${a}.call(${t.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${e} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${e} = buffer.subarray(offset);`);else{let n=t.generateOption(this.options.length);t.pushCode(`${e} = buffer.subarray(offset, offset + ${n});`),t.pushCode(`offset += ${n};`)}this.options.clone&&t.pushCode(`${e} = buffer.constructor.from(${e});`)}generateArray(t){let e=t.generateOption(this.options.length),n=t.generateOption(this.options.lengthInBytes),i=this.options.type,o=t.generateTmpVariable(),a=t.generateVariable(this.varName),s=t.generateTmpVariable(),l=this.options.key,f=typeof l=="string";if(f?t.pushCode(`${a} = {};`):t.pushCode(`${a} = [];`),typeof this.options.readUntil=="function"?t.pushCode("do {"):this.options.readUntil==="eof"?t.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):n!==void 0?t.pushCode(`for (var ${o} = offset + ${n}; offset < ${o}; ) {`):t.pushCode(`for (var ${o} = ${e}; ${o} > 0; ${o}--) {`),typeof i=="string")if(ue.get(i)){let u=t.generateTmpVariable();if(t.pushCode(`var ${u} = ${Ye+i}(offset, {`),t.useContextVariables){let c=t.generateVariable();t.pushCode(`$parent: ${c},`),t.pushCode(`$root: ${c}.$root,`),!this.options.readUntil&&n===void 0&&t.pushCode(`$index: ${e} - ${o},`)}t.pushCode("});"),t.pushCode(`var ${s} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&t.addReference(i)}else{let u=Rr[i],c=Sr[i];t.pushCode(`var ${s} = dataView.get${u}(offset, ${c});`),t.pushCode(`offset += ${le[i]};`)}else if(i instanceof F){t.pushCode(`var ${s} = {};`);let u=t.generateVariable();t.pushScope(s),t.useContextVariables&&(t.pushCode(`${s}.$parent = ${u};`),t.pushCode(`${s}.$root = ${u}.$root;`),!this.options.readUntil&&n===void 0&&t.pushCode(`${s}.$index = ${e} - ${o};`)),i.generate(t),t.useContextVariables&&(t.pushCode(`delete ${s}.$parent;`),t.pushCode(`delete ${s}.$root;`),t.pushCode(`delete ${s}.$index;`)),t.popScope()}if(f?t.pushCode(`${a}[${s}.${l}] = ${s};`):t.pushCode(`${a}.push(${s});`),t.pushCode("}"),typeof this.options.readUntil=="function"){let u=this.options.readUntil,c=t.addImport(u);t.pushCode(`while (!${c}.call(${t.generateVariable()}, ${s}, buffer.subarray(offset)));`)}}generateChoiceCase(t,e,n){if(typeof n=="string"){let i=t.generateVariable(this.varName);if(ue.has(n)){let o=t.generateTmpVariable();t.pushCode(`var ${o} = ${Ye+n}(offset, {`),t.useContextVariables&&(t.pushCode(`$parent: ${i}.$parent,`),t.pushCode(`$root: ${i}.$root,`)),t.pushCode("});"),t.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),n!==this.alias&&t.addReference(n)}else{let o=Rr[n],a=Sr[n];t.pushCode(`${i} = dataView.get${o}(offset, ${a});`),t.pushCode(`offset += ${le[n]}`)}}else n instanceof F&&(t.pushPath(e),n.generate(t),t.popPath(e))}generateChoice(t){let e=t.generateOption(this.options.tag),n=t.generateVariable(this.varName);if(this.varName&&(t.pushCode(`${n} = {};`),t.useContextVariables)){let i=t.generateVariable();t.pushCode(`${n}.$parent = ${i};`),t.pushCode(`${n}.$root = ${i}.$root;`)}t.pushCode(`switch(${e}) {`);for(let i in this.options.choices){let o=parseInt(i,10),a=this.options.choices[o];t.pushCode(`case ${o}:`),this.generateChoiceCase(t,this.varName,a),t.pushCode("break;")}t.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(t,this.varName,this.options.defaultChoice):t.generateError(`"Met undefined tag value " + ${e} + " at choice"`),t.pushCode("}"),this.varName&&t.useContextVariables&&(t.pushCode(`delete ${n}.$parent;`),t.pushCode(`delete ${n}.$root;`))}generateNest(t){let e=t.generateVariable(this.varName);if(this.options.type instanceof F){if(this.varName&&(t.pushCode(`${e} = {};`),t.useContextVariables)){let n=t.generateVariable();t.pushCode(`${e}.$parent = ${n};`),t.pushCode(`${e}.$root = ${n}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),this.varName&&t.useContextVariables&&t.useContextVariables&&(t.pushCode(`delete ${e}.$parent;`),t.pushCode(`delete ${e}.$root;`))}else if(ue.has(this.options.type)){let n=t.generateTmpVariable();if(t.pushCode(`var ${n} = ${Ye+this.options.type}(offset, {`),t.useContextVariables){let i=t.generateVariable();t.pushCode(`$parent: ${i},`),t.pushCode(`$root: ${i}.$root,`)}t.pushCode("});"),t.pushCode(`${e} = ${n}.result; offset = ${n}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}}generateWrapper(t){let e=t.generateVariable(this.varName),n=t.generateTmpVariable();if(typeof this.options.readUntil=="function"){let l=this.options.readUntil,f=t.generateTmpVariable(),u=t.generateTmpVariable();t.pushCode(`var ${f} = offset;`),t.pushCode(`var ${u} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${u} = dataView.getUint8(offset);`);let c=t.addImport(l);t.pushCode(`if (${c}.call(${t.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${n} = buffer.subarray(${f}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${n} = buffer.subarray(offset);`);else{let l=t.generateOption(this.options.length);t.pushCode(`${n} = buffer.subarray(offset, offset + ${l});`),t.pushCode(`offset += ${l};`)}this.options.clone&&t.pushCode(`${n} = buffer.constructor.from(${n});`);let i=t.generateTmpVariable(),o=t.generateTmpVariable(),a=t.generateTmpVariable(),s=t.addImport(this.options.wrapper);if(t.pushCode(`${n} = ${s}.call(this, ${n}).subarray(0);`),t.pushCode(`var ${i} = buffer;`),t.pushCode(`var ${o} = offset;`),t.pushCode(`var ${a} = dataView;`),t.pushCode(`buffer = ${n};`),t.pushCode("offset = 0;"),t.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof F)this.varName&&t.pushCode(`${e} = {};`),t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName);else if(ue.has(this.options.type)){let l=t.generateTmpVariable();t.pushCode(`var ${l} = ${Ye+this.options.type}(0);`),t.pushCode(`${e} = ${l}.result;`),this.options.type!==this.alias&&t.addReference(this.options.type)}t.pushCode(`buffer = ${i};`),t.pushCode(`dataView = ${a};`),t.pushCode(`offset = ${o};`)}generateFormatter(t,e,n){if(typeof n=="function"){let i=t.addImport(n);t.pushCode(`${e} = ${i}.call(${t.generateVariable()}, ${e});`)}}generatePointer(t){let e=this.options.type,n=t.generateOption(this.options.offset),i=t.generateTmpVariable(),o=t.generateVariable(this.varName);if(t.pushCode(`var ${i} = offset;`),t.pushCode(`offset = ${n};`),this.options.type instanceof F){if(t.pushCode(`${o} = {};`),t.useContextVariables){let a=t.generateVariable();t.pushCode(`${o}.$parent = ${a};`),t.pushCode(`${o}.$root = ${a}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),t.useContextVariables&&(t.pushCode(`delete ${o}.$parent;`),t.pushCode(`delete ${o}.$root;`))}else if(ue.has(this.options.type)){let a=t.generateTmpVariable();if(t.pushCode(`var ${a} = ${Ye+this.options.type}(offset, {`),t.useContextVariables){let s=t.generateVariable();t.pushCode(`$parent: ${s},`),t.pushCode(`$root: ${s}.$root,`)}t.pushCode("});"),t.pushCode(`${o} = ${a}.result; offset = ${a}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}else if(Object.keys(le).indexOf(this.options.type)>=0){let a=Rr[e],s=Sr[e];t.pushCode(`${o} = dataView.get${a}(offset, ${s});`),t.pushCode(`offset += ${le[e]};`)}t.pushCode(`offset = ${i};`)}generateSaveOffset(t){let e=t.generateVariable(this.varName);t.pushCode(`${e} = offset`)}};var Ns=ze(In()),$s=ze($n());m();_();var oe=class{constructor(t,e){this.ranges=arguments.length===2?[{min:t,max:e}]:0 in t?Object.assign({},t):[t]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(t){for(let e=0;e<this.ranges.length;e+=1){let n=this.ranges[e];if(n.min<=t&&n.max>=t)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(t=>new oe(t.min,t.max))}toString(){return this.ranges.map(t=>`[${t.min}-${t.max}]`).join(",")}union(t){let e=this.getRanges().concat(t.getRanges()).sort(this.rangeOrder),n=[],i=e[0];for(let o=1;o<e.length;o+=1){let a=e[o];a.min()>i.max()+1?(n.push(i),i=a):a.max()>i.max()&&(i=new oe(i.min(),a.max()))}return n.push(i),n.length===1?n[0]:new oe(n)}intersection(t){let e=this,n=t,i=this.ranges(),o=n.ranges(),a=i.length,s=o.length,l=0,f=0,u=[];for(;l<a&&f<s;){e=i[l],n=o[f];let c=Math.max(e.min(),n.min()),p=Math.min(e.max(),n.max());p>=c&&u.push(new oe(c,p)),e.max()>n.max()?f+=1:l+=1}if(u.length===0)throw new Error("found range of length 0");return u.length===1?u[0]:new oe(u)}coverage(){let t=0,e=this.ranges();for(let n=0;n<e.length;n+=1){let i=e[n];t+=i.max()-i.min()+1}return t}rangeOrder(t,e){let n=t,i=e;return arguments.length<2&&(i=n,n=this),n.min()<i.min()?-1:n.min()>i.min()?1:n.max()<i.max()?-1:i.max()>n.max()?1:0}};m();_();m();_();function pt(r){let t=r.length;for(;--t>=0;)r[t]=0}var ih=0,Wa=1,oh=2,ah=3,sh=258,ri=29,jt=256,Dt=jt+1+ri,lt=30,ni=19,qa=2*Dt+1,He=15,Fn=16,fh=7,ii=256,Ga=16,Ka=17,Xa=18,Wn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Or=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),uh=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ja=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lh=512,Te=new Array((Dt+2)*2);pt(Te);var Bt=new Array(lt*2);pt(Bt);var zt=new Array(lh);pt(zt);var Lt=new Array(sh-ah+1);pt(Lt);var oi=new Array(ri);pt(oi);var Pr=new Array(lt);pt(Pr);function Un(r,t,e,n,i){this.static_tree=r,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=i,this.has_stree=r&&r.length}var Qa,es,ts;function Bn(r,t){this.dyn_tree=r,this.max_code=0,this.stat_desc=t}var rs=r=>r<256?zt[r]:zt[256+(r>>>7)],Mt=(r,t)=>{r.pending_buf[r.pending++]=t&255,r.pending_buf[r.pending++]=t>>>8&255},K=(r,t,e)=>{r.bi_valid>Fn-e?(r.bi_buf|=t<<r.bi_valid&65535,Mt(r,r.bi_buf),r.bi_buf=t>>Fn-r.bi_valid,r.bi_valid+=e-Fn):(r.bi_buf|=t<<r.bi_valid&65535,r.bi_valid+=e)},ge=(r,t,e)=>{K(r,e[t*2],e[t*2+1])},ns=(r,t)=>{let e=0;do e|=r&1,r>>>=1,e<<=1;while(--t>0);return e>>>1},hh=r=>{r.bi_valid===16?(Mt(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},ch=(r,t)=>{let e=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length,f,u,c,p,h,g,w=0;for(p=0;p<=He;p++)r.bl_count[p]=0;for(e[r.heap[r.heap_max]*2+1]=0,f=r.heap_max+1;f<qa;f++)u=r.heap[f],p=e[e[u*2+1]*2+1]+1,p>l&&(p=l,w++),e[u*2+1]=p,!(u>n)&&(r.bl_count[p]++,h=0,u>=s&&(h=a[u-s]),g=e[u*2],r.opt_len+=g*(p+h),o&&(r.static_len+=g*(i[u*2+1]+h)));if(w!==0){do{for(p=l-1;r.bl_count[p]===0;)p--;r.bl_count[p]--,r.bl_count[p+1]+=2,r.bl_count[l]--,w-=2}while(w>0);for(p=l;p!==0;p--)for(u=r.bl_count[p];u!==0;)c=r.heap[--f],!(c>n)&&(e[c*2+1]!==p&&(r.opt_len+=(p-e[c*2+1])*e[c*2],e[c*2+1]=p),u--)}},is=(r,t,e)=>{let n=new Array(He+1),i=0,o,a;for(o=1;o<=He;o++)i=i+e[o-1]<<1,n[o]=i;for(a=0;a<=t;a++){let s=r[a*2+1];s!==0&&(r[a*2]=ns(n[s]++,s))}},ph=()=>{let r,t,e,n,i,o=new Array(He+1);for(e=0,n=0;n<ri-1;n++)for(oi[n]=e,r=0;r<1<<Wn[n];r++)Lt[e++]=n;for(Lt[e-1]=n,i=0,n=0;n<16;n++)for(Pr[n]=i,r=0;r<1<<Or[n];r++)zt[i++]=n;for(i>>=7;n<lt;n++)for(Pr[n]=i<<7,r=0;r<1<<Or[n]-7;r++)zt[256+i++]=n;for(t=0;t<=He;t++)o[t]=0;for(r=0;r<=143;)Te[r*2+1]=8,r++,o[8]++;for(;r<=255;)Te[r*2+1]=9,r++,o[9]++;for(;r<=279;)Te[r*2+1]=7,r++,o[7]++;for(;r<=287;)Te[r*2+1]=8,r++,o[8]++;for(is(Te,Dt+1,o),r=0;r<lt;r++)Bt[r*2+1]=5,Bt[r*2]=ns(r,5);Qa=new Un(Te,Wn,jt+1,Dt,He),es=new Un(Bt,Or,0,lt,He),ts=new Un(new Array(0),uh,0,ni,fh)},os=r=>{let t;for(t=0;t<Dt;t++)r.dyn_ltree[t*2]=0;for(t=0;t<lt;t++)r.dyn_dtree[t*2]=0;for(t=0;t<ni;t++)r.bl_tree[t*2]=0;r.dyn_ltree[ii*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},as=r=>{r.bi_valid>8?Mt(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},ua=(r,t,e,n)=>{let i=t*2,o=e*2;return r[i]<r[o]||r[i]===r[o]&&n[t]<=n[e]},On=(r,t,e)=>{let n=r.heap[e],i=e<<1;for(;i<=r.heap_len&&(i<r.heap_len&&ua(t,r.heap[i+1],r.heap[i],r.depth)&&i++,!ua(t,n,r.heap[i],r.depth));)r.heap[e]=r.heap[i],e=i,i<<=1;r.heap[e]=n},la=(r,t,e)=>{let n,i,o=0,a,s;if(r.sym_next!==0)do n=r.pending_buf[r.sym_buf+o++]&255,n+=(r.pending_buf[r.sym_buf+o++]&255)<<8,i=r.pending_buf[r.sym_buf+o++],n===0?ge(r,i,t):(a=Lt[i],ge(r,a+jt+1,t),s=Wn[a],s!==0&&(i-=oi[a],K(r,i,s)),n--,a=rs(n),ge(r,a,e),s=Or[a],s!==0&&(n-=Pr[a],K(r,n,s)));while(o<r.sym_next);ge(r,ii,t)},qn=(r,t)=>{let e=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,l=-1,f;for(r.heap_len=0,r.heap_max=qa,a=0;a<o;a++)e[a*2]!==0?(r.heap[++r.heap_len]=l=a,r.depth[a]=0):e[a*2+1]=0;for(;r.heap_len<2;)f=r.heap[++r.heap_len]=l<2?++l:0,e[f*2]=1,r.depth[f]=0,r.opt_len--,i&&(r.static_len-=n[f*2+1]);for(t.max_code=l,a=r.heap_len>>1;a>=1;a--)On(r,e,a);f=o;do a=r.heap[1],r.heap[1]=r.heap[r.heap_len--],On(r,e,1),s=r.heap[1],r.heap[--r.heap_max]=a,r.heap[--r.heap_max]=s,e[f*2]=e[a*2]+e[s*2],r.depth[f]=(r.depth[a]>=r.depth[s]?r.depth[a]:r.depth[s])+1,e[a*2+1]=e[s*2+1]=f,r.heap[1]=f++,On(r,e,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],ch(r,t),is(e,l,r.bl_count)},ha=(r,t,e)=>{let n,i=-1,o,a=t[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)o=a,a=t[(n+1)*2+1],!(++s<l&&o===a)&&(s<f?r.bl_tree[o*2]+=s:o!==0?(o!==i&&r.bl_tree[o*2]++,r.bl_tree[Ga*2]++):s<=10?r.bl_tree[Ka*2]++:r.bl_tree[Xa*2]++,s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4))},ca=(r,t,e)=>{let n,i=-1,o,a=t[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),n=0;n<=e;n++)if(o=a,a=t[(n+1)*2+1],!(++s<l&&o===a)){if(s<f)do ge(r,o,r.bl_tree);while(--s!==0);else o!==0?(o!==i&&(ge(r,o,r.bl_tree),s--),ge(r,Ga,r.bl_tree),K(r,s-3,2)):s<=10?(ge(r,Ka,r.bl_tree),K(r,s-3,3)):(ge(r,Xa,r.bl_tree),K(r,s-11,7));s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4)}},dh=r=>{let t;for(ha(r,r.dyn_ltree,r.l_desc.max_code),ha(r,r.dyn_dtree,r.d_desc.max_code),qn(r,r.bl_desc),t=ni-1;t>=3&&r.bl_tree[Ja[t]*2+1]===0;t--);return r.opt_len+=3*(t+1)+5+5+4,t},mh=(r,t,e,n)=>{let i;for(K(r,t-257,5),K(r,e-1,5),K(r,n-4,4),i=0;i<n;i++)K(r,r.bl_tree[Ja[i]*2+1],3);ca(r,r.dyn_ltree,t-1),ca(r,r.dyn_dtree,e-1)},_h=r=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&r.dyn_ltree[e*2]!==0)return 0;if(r.dyn_ltree[9*2]!==0||r.dyn_ltree[10*2]!==0||r.dyn_ltree[13*2]!==0)return 1;for(e=32;e<jt;e++)if(r.dyn_ltree[e*2]!==0)return 1;return 0},pa=!1,gh=r=>{pa||(ph(),pa=!0),r.l_desc=new Bn(r.dyn_ltree,Qa),r.d_desc=new Bn(r.dyn_dtree,es),r.bl_desc=new Bn(r.bl_tree,ts),r.bi_buf=0,r.bi_valid=0,os(r)},ss=(r,t,e,n)=>{K(r,(ih<<1)+(n?1:0),3),as(r),Mt(r,e),Mt(r,~e),e&&r.pending_buf.set(r.window.subarray(t,t+e),r.pending),r.pending+=e},wh=r=>{K(r,Wa<<1,3),ge(r,ii,Te),hh(r)},bh=(r,t,e,n)=>{let i,o,a=0;r.level>0?(r.strm.data_type===2&&(r.strm.data_type=_h(r)),qn(r,r.l_desc),qn(r,r.d_desc),a=dh(r),i=r.opt_len+3+7>>>3,o=r.static_len+3+7>>>3,o<=i&&(i=o)):i=o=e+5,e+4<=i&&t!==-1?ss(r,t,e,n):r.strategy===4||o===i?(K(r,(Wa<<1)+(n?1:0),3),la(r,Te,Bt)):(K(r,(oh<<1)+(n?1:0),3),mh(r,r.l_desc.max_code+1,r.d_desc.max_code+1,a+1),la(r,r.dyn_ltree,r.dyn_dtree)),os(r),n&&as(r)},vh=(r,t,e)=>(r.pending_buf[r.sym_buf+r.sym_next++]=t,r.pending_buf[r.sym_buf+r.sym_next++]=t>>8,r.pending_buf[r.sym_buf+r.sym_next++]=e,t===0?r.dyn_ltree[e*2]++:(r.matches++,t--,r.dyn_ltree[(Lt[e]+jt+1)*2]++,r.dyn_dtree[rs(t)*2]++),r.sym_next===r.sym_end),yh=gh,xh=ss,Eh=bh,Th=vh,Ah=wh,Ch={_tr_init:yh,_tr_stored_block:xh,_tr_flush_block:Eh,_tr_tally:Th,_tr_align:Ah},Rh=(r,t,e,n)=>{let i=r&65535|0,o=r>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do i=i+t[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0},Vt=Rh,Sh=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},kh=new Uint32Array(Sh()),Ih=(r,t,e,n)=>{let i=kh,o=n+e;r^=-1;for(let a=n;a<o;a++)r=r>>>8^i[(r^t[a])&255];return r^-1},L=Ih,qe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Nh,_tr_stored_block:Gn,_tr_flush_block:$h,_tr_tally:Fe,_tr_align:Fh}=Ch,{Z_NO_FLUSH:Ue,Z_PARTIAL_FLUSH:Uh,Z_FULL_FLUSH:Bh,Z_FINISH:ae,Z_BLOCK:da,Z_OK:V,Z_STREAM_END:ma,Z_STREAM_ERROR:we,Z_DATA_ERROR:Oh,Z_BUF_ERROR:Pn,Z_DEFAULT_COMPRESSION:Ph,Z_FILTERED:Dh,Z_HUFFMAN_ONLY:Nr,Z_RLE:zh,Z_FIXED:Lh,Z_DEFAULT_STRATEGY:Mh,Z_UNKNOWN:Vh,Z_DEFLATED:Lr}=dt,Zh=9,Yh=15,Hh=8,jh=29,Wh=256,Kn=Wh+1+jh,qh=30,Gh=19,Kh=2*Kn+1,Xh=15,U=3,$e=258,be=$e+U+1,Jh=32,ht=42,ai=57,Xn=69,Jn=73,Qn=91,ei=103,je=113,Ft=666,W=1,mt=2,Ge=3,_t=4,Qh=3,We=(r,t)=>(r.msg=qe[t],t),_a=r=>r*2-(r>4?9:0),Ne=r=>{let t=r.length;for(;--t>=0;)r[t]=0},ec=r=>{let t,e,n,i=r.w_size;t=r.hash_size,n=t;do e=r.head[--n],r.head[n]=e>=i?e-i:0;while(--t);t=i,n=t;do e=r.prev[--n],r.prev[n]=e>=i?e-i:0;while(--t)},tc=(r,t,e)=>(t<<r.hash_shift^e)&r.hash_mask,Be=tc,ee=r=>{let t=r.state,e=t.pending;e>r.avail_out&&(e=r.avail_out),e!==0&&(r.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),r.next_out),r.next_out+=e,t.pending_out+=e,r.total_out+=e,r.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},te=(r,t)=>{$h(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,t),r.block_start=r.strstart,ee(r.strm)},B=(r,t)=>{r.pending_buf[r.pending++]=t},$t=(r,t)=>{r.pending_buf[r.pending++]=t>>>8&255,r.pending_buf[r.pending++]=t&255},ti=(r,t,e,n)=>{let i=r.avail_in;return i>n&&(i=n),i===0?0:(r.avail_in-=i,t.set(r.input.subarray(r.next_in,r.next_in+i),e),r.state.wrap===1?r.adler=Vt(r.adler,t,i,e):r.state.wrap===2&&(r.adler=L(r.adler,t,i,e)),r.next_in+=i,r.total_in+=i,i)},fs=(r,t)=>{let e=r.max_chain_length,n=r.strstart,i,o,a=r.prev_length,s=r.nice_match,l=r.strstart>r.w_size-be?r.strstart-(r.w_size-be):0,f=r.window,u=r.w_mask,c=r.prev,p=r.strstart+$e,h=f[n+a-1],g=f[n+a];r.prev_length>=r.good_match&&(e>>=2),s>r.lookahead&&(s=r.lookahead);do if(i=t,!(f[i+a]!==g||f[i+a-1]!==h||f[i]!==f[n]||f[++i]!==f[n+1])){n+=2,i++;do;while(f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&n<p);if(o=$e-(p-n),n=p-$e,o>a){if(r.match_start=t,a=o,o>=s)break;h=f[n+a-1],g=f[n+a]}}while((t=c[t&u])>l&&--e!==0);return a<=r.lookahead?a:r.lookahead},ct=r=>{let t=r.w_size,e,n,i;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=t+(t-be)&&(r.window.set(r.window.subarray(t,t+t-n),0),r.match_start-=t,r.strstart-=t,r.block_start-=t,r.insert>r.strstart&&(r.insert=r.strstart),ec(r),n+=t),r.strm.avail_in===0)break;if(e=ti(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=e,r.lookahead+r.insert>=U)for(i=r.strstart-r.insert,r.ins_h=r.window[i],r.ins_h=Be(r,r.ins_h,r.window[i+1]);r.insert&&(r.ins_h=Be(r,r.ins_h,r.window[i+U-1]),r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,r.insert--,!(r.lookahead+r.insert<U)););}while(r.lookahead<be&&r.strm.avail_in!==0)},us=(r,t)=>{let e=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,n,i,o,a=0,s=r.strm.avail_in;do{if(n=65535,o=r.bi_valid+42>>3,r.strm.avail_out<o||(o=r.strm.avail_out-o,i=r.strstart-r.block_start,n>i+r.strm.avail_in&&(n=i+r.strm.avail_in),n>o&&(n=o),n<e&&(n===0&&t!==ae||t===Ue||n!==i+r.strm.avail_in)))break;a=t===ae&&n===i+r.strm.avail_in?1:0,Gn(r,0,0,a),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,ee(r.strm),i&&(i>n&&(i=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+i),r.strm.next_out),r.strm.next_out+=i,r.strm.avail_out-=i,r.strm.total_out+=i,r.block_start+=i,n-=i),n&&(ti(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(a===0);return s-=r.strm.avail_in,s&&(s>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=s&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-s,r.strm.next_in),r.strstart),r.strstart+=s,r.insert+=s>r.w_size-r.insert?r.w_size-r.insert:s),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),a?_t:t!==Ue&&t!==ae&&r.strm.avail_in===0&&r.strstart===r.block_start?mt:(o=r.window_size-r.strstart,r.strm.avail_in>o&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,o+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),o>r.strm.avail_in&&(o=r.strm.avail_in),o&&(ti(r.strm,r.window,r.strstart,o),r.strstart+=o,r.insert+=o>r.w_size-r.insert?r.w_size-r.insert:o),r.high_water<r.strstart&&(r.high_water=r.strstart),o=r.bi_valid+42>>3,o=r.pending_buf_size-o>65535?65535:r.pending_buf_size-o,e=o>r.w_size?r.w_size:o,i=r.strstart-r.block_start,(i>=e||(i||t===ae)&&t!==Ue&&r.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,a=t===ae&&r.strm.avail_in===0&&n===i?1:0,Gn(r,r.block_start,n,a),r.block_start+=n,ee(r.strm)),a?Ge:W)},Dn=(r,t)=>{let e,n;for(;;){if(r.lookahead<be){if(ct(r),r.lookahead<be&&t===Ue)return W;if(r.lookahead===0)break}if(e=0,r.lookahead>=U&&(r.ins_h=Be(r,r.ins_h,r.window[r.strstart+U-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),e!==0&&r.strstart-e<=r.w_size-be&&(r.match_length=fs(r,e)),r.match_length>=U)if(n=Fe(r,r.strstart-r.match_start,r.match_length-U),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=U){r.match_length--;do r.strstart++,r.ins_h=Be(r,r.ins_h,r.window[r.strstart+U-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=Be(r,r.ins_h,r.window[r.strstart+1]);else n=Fe(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(te(r,!1),r.strm.avail_out===0))return W}return r.insert=r.strstart<U-1?r.strstart:U-1,t===ae?(te(r,!0),r.strm.avail_out===0?Ge:_t):r.sym_next&&(te(r,!1),r.strm.avail_out===0)?W:mt},ft=(r,t)=>{let e,n,i;for(;;){if(r.lookahead<be){if(ct(r),r.lookahead<be&&t===Ue)return W;if(r.lookahead===0)break}if(e=0,r.lookahead>=U&&(r.ins_h=Be(r,r.ins_h,r.window[r.strstart+U-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=U-1,e!==0&&r.prev_length<r.max_lazy_match&&r.strstart-e<=r.w_size-be&&(r.match_length=fs(r,e),r.match_length<=5&&(r.strategy===Dh||r.match_length===U&&r.strstart-r.match_start>4096)&&(r.match_length=U-1)),r.prev_length>=U&&r.match_length<=r.prev_length){i=r.strstart+r.lookahead-U,n=Fe(r,r.strstart-1-r.prev_match,r.prev_length-U),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=i&&(r.ins_h=Be(r,r.ins_h,r.window[r.strstart+U-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=U-1,r.strstart++,n&&(te(r,!1),r.strm.avail_out===0))return W}else if(r.match_available){if(n=Fe(r,0,r.window[r.strstart-1]),n&&te(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return W}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=Fe(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<U-1?r.strstart:U-1,t===ae?(te(r,!0),r.strm.avail_out===0?Ge:_t):r.sym_next&&(te(r,!1),r.strm.avail_out===0)?W:mt},rc=(r,t)=>{let e,n,i,o,a=r.window;for(;;){if(r.lookahead<=$e){if(ct(r),r.lookahead<=$e&&t===Ue)return W;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=U&&r.strstart>0&&(i=r.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=r.strstart+$e;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);r.match_length=$e-(o-i),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=U?(e=Fe(r,1,r.match_length-U),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(e=Fe(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),e&&(te(r,!1),r.strm.avail_out===0))return W}return r.insert=0,t===ae?(te(r,!0),r.strm.avail_out===0?Ge:_t):r.sym_next&&(te(r,!1),r.strm.avail_out===0)?W:mt},nc=(r,t)=>{let e;for(;;){if(r.lookahead===0&&(ct(r),r.lookahead===0)){if(t===Ue)return W;break}if(r.match_length=0,e=Fe(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,e&&(te(r,!1),r.strm.avail_out===0))return W}return r.insert=0,t===ae?(te(r,!0),r.strm.avail_out===0?Ge:_t):r.sym_next&&(te(r,!1),r.strm.avail_out===0)?W:mt};function _e(r,t,e,n,i){this.good_length=r,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=i}var Ut=[new _e(0,0,0,0,us),new _e(4,4,8,4,Dn),new _e(4,5,16,8,Dn),new _e(4,6,32,32,Dn),new _e(4,4,16,16,ft),new _e(8,16,32,32,ft),new _e(8,16,128,128,ft),new _e(8,32,128,256,ft),new _e(32,128,258,1024,ft),new _e(32,258,258,4096,ft)],ic=r=>{r.window_size=2*r.w_size,Ne(r.head),r.max_lazy_match=Ut[r.level].max_lazy,r.good_match=Ut[r.level].good_length,r.nice_match=Ut[r.level].nice_length,r.max_chain_length=Ut[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=U-1,r.match_available=0,r.ins_h=0};function oc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Lr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Kh*2),this.dyn_dtree=new Uint16Array((2*qh+1)*2),this.bl_tree=new Uint16Array((2*Gh+1)*2),Ne(this.dyn_ltree),Ne(this.dyn_dtree),Ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Xh+1),this.heap=new Uint16Array(2*Kn+1),Ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Kn+1),Ne(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Wt=r=>{if(!r)return 1;let t=r.state;return!t||t.strm!==r||t.status!==ht&&t.status!==ai&&t.status!==Xn&&t.status!==Jn&&t.status!==Qn&&t.status!==ei&&t.status!==je&&t.status!==Ft?1:0},ls=r=>{if(Wt(r))return We(r,we);r.total_in=r.total_out=0,r.data_type=Vh;let t=r.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?ai:t.wrap?ht:je,r.adler=t.wrap===2?0:1,t.last_flush=-2,Nh(t),V},hs=r=>{let t=ls(r);return t===V&&ic(r.state),t},ac=(r,t)=>Wt(r)||r.state.wrap!==2?we:(r.state.gzhead=t,V),cs=(r,t,e,n,i,o)=>{if(!r)return we;let a=1;if(t===Ph&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>Zh||e!==Lr||n<8||n>15||t<0||t>9||o<0||o>Lh||n===8&&a!==1)return We(r,we);n===8&&(n=9);let s=new oc;return r.state=s,s.strm=r,s.status=ht,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+U-1)/U),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=e,hs(r)},sc=(r,t)=>cs(r,t,Lr,Yh,Hh,Mh),fc=(r,t)=>{if(Wt(r)||t>da||t<0)return r?We(r,we):we;let e=r.state;if(!r.output||r.avail_in!==0&&!r.input||e.status===Ft&&t!==ae)return We(r,r.avail_out===0?Pn:we);let n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(ee(r),r.avail_out===0)return e.last_flush=-1,V}else if(r.avail_in===0&&_a(t)<=_a(n)&&t!==ae)return We(r,Pn);if(e.status===Ft&&r.avail_in!==0)return We(r,Pn);if(e.status===ht&&e.wrap===0&&(e.status=je),e.status===ht){let i=Lr+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=Nr||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,i|=o<<6,e.strstart!==0&&(i|=Jh),i+=31-i%31,$t(e,i),e.strstart!==0&&($t(e,r.adler>>>16),$t(e,r.adler&65535)),r.adler=1,e.status=je,ee(r),e.pending!==0)return e.last_flush=-1,V}if(e.status===ai){if(r.adler=0,B(e,31),B(e,139),B(e,8),e.gzhead)B(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),B(e,e.gzhead.time&255),B(e,e.gzhead.time>>8&255),B(e,e.gzhead.time>>16&255),B(e,e.gzhead.time>>24&255),B(e,e.level===9?2:e.strategy>=Nr||e.level<2?4:0),B(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(B(e,e.gzhead.extra.length&255),B(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(r.adler=L(r.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=Xn;else if(B(e,0),B(e,0),B(e,0),B(e,0),B(e,0),B(e,e.level===9?2:e.strategy>=Nr||e.level<2?4:0),B(e,Qh),e.status=je,ee(r),e.pending!==0)return e.last_flush=-1,V}if(e.status===Xn){if(e.gzhead.extra){let i=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(r.adler=L(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=s,ee(r),e.pending!==0)return e.last_flush=-1,V;i=0,o-=s}let a=new Uint8Array(e.gzhead.extra);e.pending_buf.set(a.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>i&&(r.adler=L(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=Jn}if(e.status===Jn){if(e.gzhead.name){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=L(r.adler,e.pending_buf,e.pending-i,i)),ee(r),e.pending!==0)return e.last_flush=-1,V;i=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,B(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=L(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=Qn}if(e.status===Qn){if(e.gzhead.comment){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=L(r.adler,e.pending_buf,e.pending-i,i)),ee(r),e.pending!==0)return e.last_flush=-1,V;i=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,B(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=L(r.adler,e.pending_buf,e.pending-i,i))}e.status=ei}if(e.status===ei){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(ee(r),e.pending!==0))return e.last_flush=-1,V;B(e,r.adler&255),B(e,r.adler>>8&255),r.adler=0}if(e.status=je,ee(r),e.pending!==0)return e.last_flush=-1,V}if(r.avail_in!==0||e.lookahead!==0||t!==Ue&&e.status!==Ft){let i=e.level===0?us(e,t):e.strategy===Nr?nc(e,t):e.strategy===zh?rc(e,t):Ut[e.level].func(e,t);if((i===Ge||i===_t)&&(e.status=Ft),i===W||i===Ge)return r.avail_out===0&&(e.last_flush=-1),V;if(i===mt&&(t===Uh?Fh(e):t!==da&&(Gn(e,0,0,!1),t===Bh&&(Ne(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),ee(r),r.avail_out===0))return e.last_flush=-1,V}return t!==ae?V:e.wrap<=0?ma:(e.wrap===2?(B(e,r.adler&255),B(e,r.adler>>8&255),B(e,r.adler>>16&255),B(e,r.adler>>24&255),B(e,r.total_in&255),B(e,r.total_in>>8&255),B(e,r.total_in>>16&255),B(e,r.total_in>>24&255)):($t(e,r.adler>>>16),$t(e,r.adler&65535)),ee(r),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?V:ma)},uc=r=>{if(Wt(r))return we;let t=r.state.status;return r.state=null,t===je?We(r,Oh):V},lc=(r,t)=>{let e=t.length;if(Wt(r))return we;let n=r.state,i=n.wrap;if(i===2||i===1&&n.status!==ht||n.lookahead)return we;if(i===1&&(r.adler=Vt(r.adler,t,e,0)),n.wrap=0,e>=n.w_size){i===0&&(Ne(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(e-n.w_size,e),0),t=l,e=n.w_size}let o=r.avail_in,a=r.next_in,s=r.input;for(r.avail_in=e,r.next_in=0,r.input=t,ct(n);n.lookahead>=U;){let l=n.strstart,f=n.lookahead-(U-1);do n.ins_h=Be(n,n.ins_h,n.window[l+U-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--f);n.strstart=l,n.lookahead=U-1,ct(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=U-1,n.match_available=0,r.next_in=a,r.input=s,r.avail_in=o,n.wrap=i,V},hc=sc,cc=cs,pc=hs,dc=ls,mc=ac,_c=fc,gc=uc,wc=lc,bc="pako deflate (from Nodeca project)",Ot={deflateInit:hc,deflateInit2:cc,deflateReset:pc,deflateResetKeep:dc,deflateSetHeader:mc,deflate:_c,deflateEnd:gc,deflateSetDictionary:wc,deflateInfo:bc},vc=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),yc=function(r){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let e=t.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)vc(e,n)&&(r[n]=e[n])}}return r},xc=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;let e=new Uint8Array(t);for(let n=0,i=0,o=r.length;n<o;n++){let a=r[n];e.set(a,i),i+=a.length}return e},Mr={assign:yc,flattenChunks:xc},ps=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){ps=!1}var Zt=new Uint8Array(256);for(let r=0;r<256;r++)Zt[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Zt[254]=Zt[254]=1;var Ec=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,o,a=r.length,s=0;for(i=0;i<a;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t},Tc=(r,t)=>{if(t<65534&&r.subarray&&ps)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e},Ac=(r,t)=>{let e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i,o=new Array(e*2);for(i=0,n=0;n<e;){let a=r[n++];if(a<128){o[i++]=a;continue}let s=Zt[a];if(s>4){o[i++]=65533,n+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&n<e;)a=a<<6|r[n++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return Tc(o,i)},Cc=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Zt[r[e]]>t?e:t},Yt={string2buf:Ec,buf2string:Ac,utf8border:Cc};function Rc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ds=Rc,ms=Object.prototype.toString,{Z_NO_FLUSH:Sc,Z_SYNC_FLUSH:kc,Z_FULL_FLUSH:Ic,Z_FINISH:Nc,Z_OK:Dr,Z_STREAM_END:$c,Z_DEFAULT_COMPRESSION:Fc,Z_DEFAULT_STRATEGY:Uc,Z_DEFLATED:Bc}=dt;function qt(r){this.options=Mr.assign({level:Fc,method:Bc,chunkSize:16384,windowBits:15,memLevel:8,strategy:Uc},r||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ds,this.strm.avail_out=0;let e=Ot.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Dr)throw new Error(qe[e]);if(t.header&&Ot.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Yt.string2buf(t.dictionary):ms.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=Ot.deflateSetDictionary(this.strm,n),e!==Dr)throw new Error(qe[e]);this._dict_set=!0}}qt.prototype.push=function(r,t){let e=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Nc:Sc,typeof r=="string"?e.input=Yt.string2buf(r):ms.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(o===kc||o===Ic)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(i=Ot.deflate(e,o),i===$c)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Ot.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Dr;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};qt.prototype.onData=function(r){this.chunks.push(r)};qt.prototype.onEnd=function(r){r===Dr&&(this.result=Mr.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function si(r,t){let e=new qt(t);if(e.push(r,!0),e.err)throw e.msg||qe[e.err];return e.result}function Oc(r,t){return t=t||{},t.raw=!0,si(r,t)}function Pc(r,t){return t=t||{},t.gzip=!0,si(r,t)}var Dc=qt,zc=si,Lc=Oc,Mc=Pc,Vc=dt,Zc={Deflate:Dc,deflate:zc,deflateRaw:Lc,gzip:Mc,constants:Vc},$r=16209,Yc=16191,Hc=function(t,e){let n,i,o,a,s,l,f,u,c,p,h,g,w,E,T,S,A,b,R,N,x,C,I,k,$=t.state;n=t.next_in,I=t.input,i=n+(t.avail_in-5),o=t.next_out,k=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=$.dmax,f=$.wsize,u=$.whave,c=$.wnext,p=$.window,h=$.hold,g=$.bits,w=$.lencode,E=$.distcode,T=(1<<$.lenbits)-1,S=(1<<$.distbits)-1;e:do{g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),A=w[h&T];t:for(;;){if(b=A>>>24,h>>>=b,g-=b,b=A>>>16&255,b===0)k[o++]=A&65535;else if(b&16){R=A&65535,b&=15,b&&(g<b&&(h+=I[n++]<<g,g+=8),R+=h&(1<<b)-1,h>>>=b,g-=b),g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),A=E[h&S];r:for(;;){if(b=A>>>24,h>>>=b,g-=b,b=A>>>16&255,b&16){if(N=A&65535,b&=15,g<b&&(h+=I[n++]<<g,g+=8,g<b&&(h+=I[n++]<<g,g+=8)),N+=h&(1<<b)-1,N>l){t.msg="invalid distance too far back",$.mode=$r;break e}if(h>>>=b,g-=b,b=o-a,N>b){if(b=N-b,b>u&&$.sane){t.msg="invalid distance too far back",$.mode=$r;break e}if(x=0,C=p,c===0){if(x+=f-b,b<R){R-=b;do k[o++]=p[x++];while(--b);x=o-N,C=k}}else if(c<b){if(x+=f+c-b,b-=c,b<R){R-=b;do k[o++]=p[x++];while(--b);if(x=0,c<R){b=c,R-=b;do k[o++]=p[x++];while(--b);x=o-N,C=k}}}else if(x+=c-b,b<R){R-=b;do k[o++]=p[x++];while(--b);x=o-N,C=k}for(;R>2;)k[o++]=C[x++],k[o++]=C[x++],k[o++]=C[x++],R-=3;R&&(k[o++]=C[x++],R>1&&(k[o++]=C[x++]))}else{x=o-N;do k[o++]=k[x++],k[o++]=k[x++],k[o++]=k[x++],R-=3;while(R>2);R&&(k[o++]=k[x++],R>1&&(k[o++]=k[x++]))}}else if((b&64)===0){A=E[(A&65535)+(h&(1<<b)-1)];continue r}else{t.msg="invalid distance code",$.mode=$r;break e}break}}else if((b&64)===0){A=w[(A&65535)+(h&(1<<b)-1)];continue t}else if(b&32){$.mode=Yc;break e}else{t.msg="invalid literal/length code",$.mode=$r;break e}break}}while(n<i&&o<s);R=g>>3,n-=R,g-=R<<3,h&=(1<<g)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<s?257+(s-o):257-(o-s),$.hold=h,$.bits=g},ut=15,ga=852,wa=592,ba=0,zn=1,va=2,jc=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Wc=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qc=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Gc=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Kc=(r,t,e,n,i,o,a,s)=>{let l=s.bits,f=0,u=0,c=0,p=0,h=0,g=0,w=0,E=0,T=0,S=0,A,b,R,N,x,C=null,I,k=new Uint16Array(ut+1),$=new Uint16Array(ut+1),De=null,Bi,ir,or;for(f=0;f<=ut;f++)k[f]=0;for(u=0;u<n;u++)k[t[e+u]]++;for(h=l,p=ut;p>=1&&k[p]===0;p--);if(h>p&&(h=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(c=1;c<p&&k[c]===0;c++);for(h<c&&(h=c),E=1,f=1;f<=ut;f++)if(E<<=1,E-=k[f],E<0)return-1;if(E>0&&(r===ba||p!==1))return-1;for($[1]=0,f=1;f<ut;f++)$[f+1]=$[f]+k[f];for(u=0;u<n;u++)t[e+u]!==0&&(a[$[t[e+u]]++]=u);if(r===ba?(C=De=a,I=20):r===zn?(C=jc,De=Wc,I=257):(C=qc,De=Gc,I=0),S=0,u=0,f=c,x=o,g=h,w=0,R=-1,T=1<<h,N=T-1,r===zn&&T>ga||r===va&&T>wa)return 1;for(;;){Bi=f-w,a[u]+1<I?(ir=0,or=a[u]):a[u]>=I?(ir=De[a[u]-I],or=C[a[u]-I]):(ir=32+64,or=0),A=1<<f-w,b=1<<g,c=b;do b-=A,i[x+(S>>w)+b]=Bi<<24|ir<<16|or|0;while(b!==0);for(A=1<<f-1;S&A;)A>>=1;if(A!==0?(S&=A-1,S+=A):S=0,u++,--k[f]===0){if(f===p)break;f=t[e+a[u]]}if(f>h&&(S&N)!==R){for(w===0&&(w=h),x+=c,g=f-w,E=1<<g;g+w<p&&(E-=k[g+w],!(E<=0));)g++,E<<=1;if(T+=1<<g,r===zn&&T>ga||r===va&&T>wa)return 1;R=S&N,i[R]=h<<24|g<<16|x-o|0}}return S!==0&&(i[x+S]=f-w<<24|64<<16|0),s.bits=h,0},Pt=Kc,Xc=0,_s=1,gs=2,{Z_FINISH:ya,Z_BLOCK:Jc,Z_TREES:Fr,Z_OK:Ke,Z_STREAM_END:Qc,Z_NEED_DICT:ep,Z_STREAM_ERROR:se,Z_DATA_ERROR:ws,Z_MEM_ERROR:bs,Z_BUF_ERROR:tp,Z_DEFLATED:xa}=dt,Vr=16180,Ea=16181,Ta=16182,Aa=16183,Ca=16184,Ra=16185,Sa=16186,ka=16187,Ia=16188,Na=16189,zr=16190,Ee=16191,Ln=16192,$a=16193,Mn=16194,Fa=16195,Ua=16196,Ba=16197,Oa=16198,Ur=16199,Br=16200,Pa=16201,Da=16202,za=16203,La=16204,Ma=16205,Vn=16206,Va=16207,Za=16208,O=16209,vs=16210,ys=16211,rp=852,np=592,ip=15,op=ip,Ya=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function ap(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Xe=r=>{if(!r)return 1;let t=r.state;return!t||t.strm!==r||t.mode<Vr||t.mode>ys?1:0},xs=r=>{if(Xe(r))return se;let t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=Vr,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(rp),t.distcode=t.distdyn=new Int32Array(np),t.sane=1,t.back=-1,Ke},Es=r=>{if(Xe(r))return se;let t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,xs(r)},Ts=(r,t)=>{let e;if(Xe(r))return se;let n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?se:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,Es(r))},As=(r,t)=>{if(!r)return se;let e=new ap;r.state=e,e.strm=r,e.window=null,e.mode=Vr;let n=Ts(r,t);return n!==Ke&&(r.state=null),n},sp=r=>As(r,op),Ha=!0,Zn,Yn,fp=r=>{if(Ha){Zn=new Int32Array(512),Yn=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(Pt(_s,r.lens,0,288,Zn,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;Pt(gs,r.lens,0,32,Yn,0,r.work,{bits:5}),Ha=!1}r.lencode=Zn,r.lenbits=9,r.distcode=Yn,r.distbits=5},Cs=(r,t,e,n)=>{let i,o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(e-n,e-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},up=(r,t)=>{let e,n,i,o,a,s,l,f,u,c,p,h,g,w,E=0,T,S,A,b,R,N,x,C,I=new Uint8Array(4),k,$,De=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xe(r)||!r.output||!r.input&&r.avail_in!==0)return se;e=r.state,e.mode===Ee&&(e.mode=Ln),a=r.next_out,i=r.output,l=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,f=e.hold,u=e.bits,c=s,p=l,C=Ke;e:for(;;)switch(e.mode){case Vr:if(e.wrap===0){e.mode=Ln;break}for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&2&&f===35615){e.wbits===0&&(e.wbits=15),e.check=0,I[0]=f&255,I[1]=f>>>8&255,e.check=L(e.check,I,2,0),f=0,u=0,e.mode=Ea;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((f&255)<<8)+(f>>8))%31){r.msg="incorrect header check",e.mode=O;break}if((f&15)!==xa){r.msg="unknown compression method",e.mode=O;break}if(f>>>=4,u-=4,x=(f&15)+8,e.wbits===0&&(e.wbits=x),x>15||x>e.wbits){r.msg="invalid window size",e.mode=O;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=f&512?Na:Ee,f=0,u=0;break;case Ea:for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.flags=f,(e.flags&255)!==xa){r.msg="unknown compression method",e.mode=O;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=O;break}e.head&&(e.head.text=f>>8&1),e.flags&512&&e.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,e.check=L(e.check,I,2,0)),f=0,u=0,e.mode=Ta;case Ta:for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.head&&(e.head.time=f),e.flags&512&&e.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,I[2]=f>>>16&255,I[3]=f>>>24&255,e.check=L(e.check,I,4,0)),f=0,u=0,e.mode=Aa;case Aa:for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.head&&(e.head.xflags=f&255,e.head.os=f>>8),e.flags&512&&e.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,e.check=L(e.check,I,2,0)),f=0,u=0,e.mode=Ca;case Ca:if(e.flags&1024){for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.length=f,e.head&&(e.head.extra_len=f),e.flags&512&&e.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,e.check=L(e.check,I,2,0)),f=0,u=0}else e.head&&(e.head.extra=null);e.mode=Ra;case Ra:if(e.flags&1024&&(h=e.length,h>s&&(h=s),h&&(e.head&&(x=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+h),x)),e.flags&512&&e.wrap&4&&(e.check=L(e.check,n,h,o)),s-=h,o+=h,e.length-=h),e.length))break e;e.length=0,e.mode=Sa;case Sa:if(e.flags&2048){if(s===0)break e;h=0;do x=n[o+h++],e.head&&x&&e.length<65536&&(e.head.name+=String.fromCharCode(x));while(x&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=L(e.check,n,h,o)),s-=h,o+=h,x)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=ka;case ka:if(e.flags&4096){if(s===0)break e;h=0;do x=n[o+h++],e.head&&x&&e.length<65536&&(e.head.comment+=String.fromCharCode(x));while(x&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=L(e.check,n,h,o)),s-=h,o+=h,x)break e}else e.head&&(e.head.comment=null);e.mode=Ia;case Ia:if(e.flags&512){for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&4&&f!==(e.check&65535)){r.msg="header crc mismatch",e.mode=O;break}f=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=Ee;break;case Na:for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}r.adler=e.check=Ya(f),f=0,u=0,e.mode=zr;case zr:if(e.havedict===0)return r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,ep;r.adler=e.check=1,e.mode=Ee;case Ee:if(t===Jc||t===Fr)break e;case Ln:if(e.last){f>>>=u&7,u-=u&7,e.mode=Vn;break}for(;u<3;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}switch(e.last=f&1,f>>>=1,u-=1,f&3){case 0:e.mode=$a;break;case 1:if(fp(e),e.mode=Ur,t===Fr){f>>>=2,u-=2;break e}break;case 2:e.mode=Ua;break;case 3:r.msg="invalid block type",e.mode=O}f>>>=2,u-=2;break;case $a:for(f>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if((f&65535)!==(f>>>16^65535)){r.msg="invalid stored block lengths",e.mode=O;break}if(e.length=f&65535,f=0,u=0,e.mode=Mn,t===Fr)break e;case Mn:e.mode=Fa;case Fa:if(h=e.length,h){if(h>s&&(h=s),h>l&&(h=l),h===0)break e;i.set(n.subarray(o,o+h),a),s-=h,o+=h,l-=h,a+=h,e.length-=h;break}e.mode=Ee;break;case Ua:for(;u<14;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.nlen=(f&31)+257,f>>>=5,u-=5,e.ndist=(f&31)+1,f>>>=5,u-=5,e.ncode=(f&15)+4,f>>>=4,u-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=O;break}e.have=0,e.mode=Ba;case Ba:for(;e.have<e.ncode;){for(;u<3;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.lens[De[e.have++]]=f&7,f>>>=3,u-=3}for(;e.have<19;)e.lens[De[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,k={bits:e.lenbits},C=Pt(Xc,e.lens,0,19,e.lencode,0,e.work,k),e.lenbits=k.bits,C){r.msg="invalid code lengths set",e.mode=O;break}e.have=0,e.mode=Oa;case Oa:for(;e.have<e.nlen+e.ndist;){for(;E=e.lencode[f&(1<<e.lenbits)-1],T=E>>>24,S=E>>>16&255,A=E&65535,!(T<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(A<16)f>>>=T,u-=T,e.lens[e.have++]=A;else{if(A===16){for($=T+2;u<$;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(f>>>=T,u-=T,e.have===0){r.msg="invalid bit length repeat",e.mode=O;break}x=e.lens[e.have-1],h=3+(f&3),f>>>=2,u-=2}else if(A===17){for($=T+3;u<$;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=T,u-=T,x=0,h=3+(f&7),f>>>=3,u-=3}else{for($=T+7;u<$;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=T,u-=T,x=0,h=11+(f&127),f>>>=7,u-=7}if(e.have+h>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=O;break}for(;h--;)e.lens[e.have++]=x}}if(e.mode===O)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=O;break}if(e.lenbits=9,k={bits:e.lenbits},C=Pt(_s,e.lens,0,e.nlen,e.lencode,0,e.work,k),e.lenbits=k.bits,C){r.msg="invalid literal/lengths set",e.mode=O;break}if(e.distbits=6,e.distcode=e.distdyn,k={bits:e.distbits},C=Pt(gs,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,k),e.distbits=k.bits,C){r.msg="invalid distances set",e.mode=O;break}if(e.mode=Ur,t===Fr)break e;case Ur:e.mode=Br;case Br:if(s>=6&&l>=258){r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,Hc(r,p),a=r.next_out,i=r.output,l=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,f=e.hold,u=e.bits,e.mode===Ee&&(e.back=-1);break}for(e.back=0;E=e.lencode[f&(1<<e.lenbits)-1],T=E>>>24,S=E>>>16&255,A=E&65535,!(T<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(S&&(S&240)===0){for(b=T,R=S,N=A;E=e.lencode[N+((f&(1<<b+R)-1)>>b)],T=E>>>24,S=E>>>16&255,A=E&65535,!(b+T<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=b,u-=b,e.back+=b}if(f>>>=T,u-=T,e.back+=T,e.length=A,S===0){e.mode=Ma;break}if(S&32){e.back=-1,e.mode=Ee;break}if(S&64){r.msg="invalid literal/length code",e.mode=O;break}e.extra=S&15,e.mode=Pa;case Pa:if(e.extra){for($=e.extra;u<$;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.length+=f&(1<<e.extra)-1,f>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Da;case Da:for(;E=e.distcode[f&(1<<e.distbits)-1],T=E>>>24,S=E>>>16&255,A=E&65535,!(T<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if((S&240)===0){for(b=T,R=S,N=A;E=e.distcode[N+((f&(1<<b+R)-1)>>b)],T=E>>>24,S=E>>>16&255,A=E&65535,!(b+T<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=b,u-=b,e.back+=b}if(f>>>=T,u-=T,e.back+=T,S&64){r.msg="invalid distance code",e.mode=O;break}e.offset=A,e.extra=S&15,e.mode=za;case za:if(e.extra){for($=e.extra;u<$;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.offset+=f&(1<<e.extra)-1,f>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=O;break}e.mode=La;case La:if(l===0)break e;if(h=p-l,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=O;break}h>e.wnext?(h-=e.wnext,g=e.wsize-h):g=e.wnext-h,h>e.length&&(h=e.length),w=e.window}else w=i,g=a-e.offset,h=e.length;h>l&&(h=l),l-=h,e.length-=h;do i[a++]=w[g++];while(--h);e.length===0&&(e.mode=Br);break;case Ma:if(l===0)break e;i[a++]=e.length,l--,e.mode=Br;break;case Vn:if(e.wrap){for(;u<32;){if(s===0)break e;s--,f|=n[o++]<<u,u+=8}if(p-=l,r.total_out+=p,e.total+=p,e.wrap&4&&p&&(r.adler=e.check=e.flags?L(e.check,i,p,a-p):Vt(e.check,i,p,a-p)),p=l,e.wrap&4&&(e.flags?f:Ya(f))!==e.check){r.msg="incorrect data check",e.mode=O;break}f=0,u=0}e.mode=Va;case Va:if(e.wrap&&e.flags){for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&4&&f!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=O;break}f=0,u=0}e.mode=Za;case Za:C=Qc;break e;case O:C=ws;break e;case vs:return bs;case ys:default:return se}return r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,(e.wsize||p!==r.avail_out&&e.mode<O&&(e.mode<Vn||t!==ya))&&Cs(r,r.output,r.next_out,p-r.avail_out),c-=r.avail_in,p-=r.avail_out,r.total_in+=c,r.total_out+=p,e.total+=p,e.wrap&4&&p&&(r.adler=e.check=e.flags?L(e.check,i,p,r.next_out-p):Vt(e.check,i,p,r.next_out-p)),r.data_type=e.bits+(e.last?64:0)+(e.mode===Ee?128:0)+(e.mode===Ur||e.mode===Mn?256:0),(c===0&&p===0||t===ya)&&C===Ke&&(C=tp),C},lp=r=>{if(Xe(r))return se;let t=r.state;return t.window&&(t.window=null),r.state=null,Ke},hp=(r,t)=>{if(Xe(r))return se;let e=r.state;return(e.wrap&2)===0?se:(e.head=t,t.done=!1,Ke)},cp=(r,t)=>{let e=t.length,n,i,o;return Xe(r)||(n=r.state,n.wrap!==0&&n.mode!==zr)?se:n.mode===zr&&(i=1,i=Vt(i,t,e,0),i!==n.check)?ws:(o=Cs(r,t,e,e),o?(n.mode=vs,bs):(n.havedict=1,Ke))},pp=Es,dp=Ts,mp=xs,_p=sp,gp=As,wp=up,bp=lp,vp=hp,yp=cp,xp="pako inflate (from Nodeca project)",Ae={inflateReset:pp,inflateReset2:dp,inflateResetKeep:mp,inflateInit:_p,inflateInit2:gp,inflate:wp,inflateEnd:bp,inflateGetHeader:vp,inflateSetDictionary:yp,inflateInfo:xp};function Ep(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Tp=Ep,Rs=Object.prototype.toString,{Z_NO_FLUSH:Ap,Z_FINISH:Cp,Z_OK:Ht,Z_STREAM_END:Hn,Z_NEED_DICT:jn,Z_STREAM_ERROR:Rp,Z_DATA_ERROR:ja,Z_MEM_ERROR:Sp}=dt;function Gt(r){this.options=Mr.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ds,this.strm.avail_out=0;let e=Ae.inflateInit2(this.strm,t.windowBits);if(e!==Ht)throw new Error(qe[e]);if(this.header=new Tp,Ae.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Yt.string2buf(t.dictionary):Rs.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ae.inflateSetDictionary(this.strm,t.dictionary),e!==Ht)))throw new Error(qe[e])}Gt.prototype.push=function(r,t){let e=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Cp:Ap,Rs.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=Ae.inflate(e,a),o===jn&&i&&(o=Ae.inflateSetDictionary(e,i),o===Ht?o=Ae.inflate(e,a):o===ja&&(o=jn));e.avail_in>0&&o===Hn&&e.state.wrap>0&&r[e.next_in]!==0;)Ae.inflateReset(e),o=Ae.inflate(e,a);switch(o){case Rp:case ja:case jn:case Sp:return this.onEnd(o),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||o===Hn))if(this.options.to==="string"){let l=Yt.utf8border(e.output,e.next_out),f=e.next_out-l,u=Yt.buf2string(e.output,l);e.next_out=f,e.avail_out=n-f,f&&e.output.set(e.output.subarray(l,l+f),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Ht&&s===0)){if(o===Hn)return o=Ae.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Gt.prototype.onData=function(r){this.chunks.push(r)};Gt.prototype.onEnd=function(r){r===Ht&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mr.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function fi(r,t){let e=new Gt(t);if(e.push(r),e.err)throw e.msg||qe[e.err];return e.result}function kp(r,t){return t=t||{},t.raw=!0,fi(r,t)}var Ip=Gt,Np=fi,$p=kp,Fp=fi,Up=dt,Bp={Inflate:Ip,inflate:Np,inflateRaw:$p,ungzip:Fp,constants:Up},{Deflate:Md,deflate:Vd,deflateRaw:Zd,gzip:Yd}=Zc,{Inflate:Hd,inflate:jd,inflateRaw:Op,ungzip:Wd}=Bp;var Ss=Op;function ks(r){return Ss(r.subarray(2))}m();_();var ui=class extends Error{constructor(t){super(t),this.code="ERR_ABORTED"}};function Is(r){r.sort((i,o)=>Number(i.offset)-Number(o.offset));let t=[],e,n;for(let i=0;i<r.length;i+=1)e&&n&&Number(r[i].offset)-n<=2e3?(e.length=BigInt(Number(e.length)+Number(r[i].length)-n+Number(r[i].offset)),e.blocks.push(r[i])):t.push(e={blocks:[r[i]],length:r[i].length,offset:r[i].offset}),n=Number(e.offset)+Number(e.length);return t}function Kt(r){if(!!r&&r.aborted){if(typeof DOMException!="undefined")throw new DOMException("aborted","AbortError");{let t=new ui("aborted");throw t.code="ERR_ABORTED",t}}}var Pp=1,Dp=2,zp=3;function li(r,t,e,n){return r<n&&t>=e}function Lp(r){let t=r?"big":"little",e=new F().endianess(t).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),n=new F().endianess(t).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new F().endianess(t).array("blocksToFetch",{length:"cnt",type:new F().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new F().array("recurOffsets",{length:"cnt",type:new F().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new F().endianess(t).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new F().endianess(t).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[zp]:new F().array("items",{length:"itemCount",type:new F().floatle("score")}),[Dp]:new F().array("items",{length:"itemCount",type:new F().endianess(t).int32("start").floatle("score")}),[Pp]:new F().array("items",{length:"itemCount",type:new F().endianess(t).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:e,leafParser:n}}var gt=class{constructor(t,e,n,i,o,a){if(this.bbi=t,this.refsByName=e,this.cirTreeOffset=n,this.isBigEndian=i,this.isCompressed=o,this.blockType=a,this.featureCache=new Ns.default({cache:new $s.default({maxSize:1e3}),fill:async(l,f)=>{let u=Number(l.length),c=Number(l.offset),{buffer:p}=await this.bbi.read(v.alloc(u),0,u,c,{signal:f});return p}}),!(n>=0))throw new Error("invalid cirTreeOffset!");let s=Lp(i);this.leafParser=s.leafParser,this.bigBedParser=s.bigBedParser}async readWigData(t,e,n,i,o){try{let{refsByName:a,bbi:s,cirTreeOffset:l,isBigEndian:f}=this,u=a[t];u===void 0&&i.complete();let c={chrId:u,start:e,end:n};this.cirTreePromise||(this.cirTreePromise=s.read(v.alloc(48),0,48,Number(l),o));let{buffer:p}=await this.cirTreePromise,h=f?p.readUInt32BE(4):p.readUInt32LE(4),g=[],w=0,E=(b,R,N)=>{try{let x=b.subarray(R),C=this.leafParser.parse(x);if(C.blocksToFetch&&(g=g.concat(C.blocksToFetch.filter(T).map(I=>({offset:I.blockOffset,length:I.blockSize})))),C.recurOffsets){let I=C.recurOffsets.filter(T).map(k=>Number(k.blockOffset));I.length>0&&A(I,N+1)}}catch(x){i.error(x)}},T=b=>{let{startChrom:R,startBase:N,endChrom:x,endBase:C}=b;return(R<u||R===u&&N<=n)&&(x>u||x===u&&C>=e)},S=async(b,R,N)=>{try{let x=R.max()-R.min(),C=R.min(),I=await this.featureCache.get(`${x}_${C}`,{length:x,offset:C},o.signal);for(let k=0;k<b.length;k+=1)R.contains(b[k])&&(E(I,b[k]-C,N),w-=1,w===0&&this.readFeatures(i,g,{...o,request:c}))}catch(x){i.error(x)}},A=(b,R)=>{try{w+=b.length;let N=4+Number(h)*32,x=new oe(b[0],b[0]+N);for(let C=1;C<b.length;C+=1){let I=new oe(b[C],b[C]+N);x=x.union(I)}x.getRanges().map(C=>S(b,C,R))}catch(N){i.error(N)}};return A([Number(l)+48],1)}catch(a){i.error(a)}}parseSummaryBlock(t,e,n){let i=[],o=e,a=new DataView(t.buffer,t.byteOffset,t.length);for(;o<t.byteLength;){let s=a.getUint32(o,!0);o+=4;let l=a.getUint32(o,!0);o+=4;let f=a.getUint32(o,!0);o+=4;let u=a.getUint32(o,!0);o+=4;let c=a.getFloat32(o,!0);o+=4;let p=a.getFloat32(o,!0);o+=4;let h=a.getFloat32(o,!0);o+=4,o+=4,(!n||s===n.chrId&&li(l,f,n.start,n.end))&&i.push({start:l,end:f,maxScore:p,minScore:c,summary:!0,score:h/(u||1)})}return i}parseBigBedBlock(t,e,n,i){let o=[],a=e;for(;a<t.byteLength;){let s=this.bigBedParser.parse(t.subarray(a));o.push({...s,uniqueId:`bb-${n+a}`}),a+=s.offset}return i?o.filter(s=>li(s.start,s.end,i.start,i.end)):o}parseBigWigBlock(t,e,n){let i=t.subarray(e),o=new DataView(i.buffer,i.byteOffset,i.length),a=0;a+=4;let s=o.getInt32(a,!0);a+=8;let l=o.getUint32(a,!0);a+=4;let f=o.getUint32(a,!0);a+=4;let u=o.getUint8(a);a+=2;let c=o.getUint16(a,!0);a+=2;let p=new Array(c);switch(u){case 1:for(let h=0;h<c;h++){let g=o.getInt32(a,!0);a+=4;let w=o.getInt32(a,!0);a+=4;let E=o.getFloat32(a,!0);a+=4,p[h]={start:g,end:w,score:E}}break;case 2:for(let h=0;h<c;h++){let g=o.getInt32(a,!0);a+=4;let w=o.getFloat32(a,!0);a+=4,p[h]={score:w,start:g,end:g+f}}break;case 3:for(let h=0;h<c;h++){let g=o.getFloat32(a,!0);a+=4;let w=s+h*l;p[h]={score:g,start:w,end:w+f}}break}return n?p.filter(h=>li(h.start,h.end,n.start,n.end)):p}async readFeatures(t,e,n={}){try{let{blockType:i,isCompressed:o}=this,{signal:a,request:s}=n,l=Is(e);Kt(a),await Promise.all(l.map(async f=>{Kt(a);let{length:u,offset:c}=f,p=await this.featureCache.get(`${u}_${c}`,f,a);f.blocks.forEach(h=>{Kt(a);let g=Number(h.offset)-Number(f.offset),w=p;switch(o&&(w=ks(p.subarray(g)),g=0),Kt(a),i){case"summary":t.next(this.parseSummaryBlock(w,g,s));break;case"bigwig":t.next(this.parseBigWigBlock(w,g,s));break;case"bigbed":t.next(this.parseBigBedBlock(w,g,Number(h.offset)*(1<<8),s));break;default:console.warn(`Don't know what to do with ${i}`)}})})),t.complete()}catch(i){t.error(i)}}};m();_();m();_();var ci=ze(Fs());m();_();var hi=typeof window!="undefined"?window:typeof self!="undefined"?self:{fetch:void 0},Oe=class{async getBufferFromResponse(t){if(typeof t.buffer=="function")return t.buffer();if(typeof t.arrayBuffer=="function"){let e=await t.arrayBuffer();return v.from(e)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(t,e={}){this.baseOverrides={},this.url=t;let n=e.fetch||hi.fetch&&hi.fetch.bind(hi);if(!n)throw new TypeError("no fetch function supplied, and none found in global environment");e.overrides&&(this.baseOverrides=e.overrides),this.fetchImplementation=n}async fetch(t,e){let n;try{n=await this.fetchImplementation(t,e)}catch(i){if(`${i}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`),n=await this.fetchImplementation(t,{...e,cache:"reload"});else throw i}return n}async read(t,e=0,n,i=0,o={}){let{headers:a={},signal:s,overrides:l={}}=o;n<1/0?a.range=`bytes=${i}-${i+n}`:n===1/0&&i!==0&&(a.range=`bytes=${i}-`);let f={...this.baseOverrides,...l,headers:{...a,...l.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:s},u=await this.fetch(this.url,f);if(!u.ok)throw new Error(`HTTP ${u.status} ${u.statusText} ${this.url}`);if(u.status===200&&i===0||u.status===206){let c=await this.getBufferFromResponse(u),p=c.copy(t,e,0,Math.min(n,c.length)),h=u.headers.get("content-range"),g=/\/(\d+)$/.exec(h||"");return g&&g[1]&&(this._stat={size:parseInt(g[1],10)}),{bytesRead:p,buffer:t}}throw u.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${u.status} fetching ${this.url}`)}async readFile(t={}){let e,n;typeof t=="string"?(e=t,n={}):(e=t.encoding,n=t,delete n.encoding);let{headers:i={},signal:o,overrides:a={}}=n,s={headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...a},l=await this.fetch(this.url,s);if(!l)throw new Error("generic-filehandle failed to fetch");if(l.status!==200)throw Object.assign(new Error(`HTTP ${l.status} fetching ${this.url}`),{status:l.status});if(e==="utf8")return l.text();if(e)throw new Error(`unsupported encoding: ${e}`);return this.getBufferFromResponse(l)}async stat(){if(!this._stat){let t=v.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};m();_();m();_();m();_();m();_();m();_();m();_();var sf=ze(af(),1),{__extends:Xt,__assign:_m,__rest:gm,__decorate:wm,__param:bm,__esDecorate:vm,__runInitializers:ym,__propKey:xm,__setFunctionName:Em,__metadata:Tm,__awaiter:Am,__generator:Cm,__exportStar:Rm,__createBinding:Sm,__values:di,__read:bt,__spread:km,__spreadArrays:Im,__spreadArray:vt,__await:Nm,__asyncGenerator:$m,__asyncDelegator:Fm,__asyncValues:Um,__makeTemplateObject:Bm,__importStar:Om,__importDefault:Pm,__classPrivateFieldGet:Dm,__classPrivateFieldSet:zm,__classPrivateFieldIn:Lm}=sf.default;m();_();function X(r){return typeof r=="function"}m();_();m();_();m();_();function jr(r){var t=function(n){Error.call(n),n.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Wr=jr(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});m();_();function mi(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}var qr=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=di(a),l=s.next();!l.done;l=s.next()){var f=l.value;f.remove(this)}}catch(w){t={error:w}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else a.remove(this);var u=this.initialTeardown;if(X(u))try{u()}catch(w){o=w instanceof Wr?w.errors:[w]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var p=di(c),h=p.next();!h.done;h=p.next()){var g=h.value;try{ff(g)}catch(w){o=o!=null?o:[],w instanceof Wr?o=vt(vt([],bt(o)),bt(w.errors)):o.push(w)}}}catch(w){n={error:w}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(o)throw new Wr(o)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)ff(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&mi(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&mi(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}();var Xm=qr.EMPTY;function Gr(r){return r instanceof qr||r&&"closed"in r&&X(r.remove)&&X(r.add)&&X(r.unsubscribe)}function ff(r){X(r)?r():r.unsubscribe()}m();_();var he={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};m();_();m();_();var yt={setTimeout:function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=yt.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,vt([r,t],bt(e))):setTimeout.apply(void 0,vt([r,t],bt(e)))},clearTimeout:function(r){var t=yt.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0};function uf(r){yt.setTimeout(function(){var t=he.onUnhandledError;if(t)t(r);else throw r})}m();_();function _i(){}m();_();var lf=function(){return gi("C",void 0,void 0)}();function hf(r){return gi("E",void 0,r)}function cf(r){return gi("N",r,void 0)}function gi(r,t,e){return{kind:r,value:t,error:e}}m();_();var Je=null;function pf(r){if(he.useDeprecatedSynchronousErrorHandling){var t=!Je;if(t&&(Je={errorThrown:!1,error:null}),r(),t){var e=Je,n=e.errorThrown,i=e.error;if(Je=null,n)throw i}}else r()}function df(r){he.useDeprecatedSynchronousErrorHandling&&Je&&(Je.errorThrown=!0,Je.error=r)}var Jt=function(r){Xt(t,r);function t(e){var n=r.call(this)||this;return n.isStopped=!1,e?(n.destination=e,Gr(e)&&e.add(n)):n.destination=Yp,n}return t.create=function(e,n,i){return new xt(e,n,i)},t.prototype.next=function(e){this.isStopped?bi(cf(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?bi(hf(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?bi(lf,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(qr);var Mp=Function.prototype.bind;function wi(r,t){return Mp.call(r,t)}var Vp=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){Kr(n)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(n){Kr(n)}else Kr(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){Kr(e)}},r}(),xt=function(r){Xt(t,r);function t(e,n,i){var o=r.call(this)||this,a;if(X(e)||!e)a={next:e!=null?e:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var s;o&&he.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=function(){return o.unsubscribe()},a={next:e.next&&wi(e.next,s),error:e.error&&wi(e.error,s),complete:e.complete&&wi(e.complete,s)}):a=e}return o.destination=new Vp(a),o}return t}(Jt);function Kr(r){he.useDeprecatedSynchronousErrorHandling?df(r):uf(r)}function Zp(r){throw r}function bi(r,t){var e=he.onStoppedNotification;e&&yt.setTimeout(function(){return e(r,t)})}var Yp={closed:!0,next:_i,error:Zp,complete:_i};m();_();var mf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();m();_();m();_();function _f(r){return r}function gf(r){return r.length===0?_f:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}var vi=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this,o=jp(t)?t:new xt(t,e,n);return pf(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var n=this;return e=wf(e),new e(function(i,o){var a=new xt({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[mf]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return gf(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=wf(t),new t(function(n,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();function wf(r){var t;return(t=r!=null?r:he.Promise)!==null&&t!==void 0?t:Promise}function Hp(r){return r&&X(r.next)&&X(r.error)&&X(r.complete)}function jp(r){return r&&r instanceof Jt||Hp(r)&&Gr(r)}m();_();function Wp(r){return X(r==null?void 0:r.lift)}function Xr(r){return function(t){if(Wp(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}m();_();function bf(r,t,e,n,i){return new qp(r,t,e,n,i)}var qp=function(r){Xt(t,r);function t(e,n,i,o,a,s){var l=r.call(this,e)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=n?function(f){try{n(f)}catch(u){e.error(u)}}:r.prototype._next,l._error=o?function(f){try{o(f)}catch(u){e.error(u)}finally{this.unsubscribe()}}:r.prototype._error,l._complete=i?function(){try{i()}catch(f){e.error(f)}finally{this.unsubscribe()}}:r.prototype._complete,l}return t.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},t}(Jt);m();_();var vf=jr(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});m();_();function yi(r,t){var e=typeof t=="object";return new Promise(function(n,i){var o=new xt({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){e?n(t.defaultValue):i(new vf)}});r.subscribe(o)})}m();_();m();_();m();_();function yf(r,t,e,n,i){return function(o,a){var s=e,l=t,f=0;o.subscribe(bf(a,function(u){var c=f++;l=s?r(l,u,c):(s=!0,u),n&&a.next(l)},i&&function(){s&&a.next(l),a.complete()}))}}function xf(r,t){return Xr(yf(r,t,arguments.length>=2,!1,!0))}var Gp=function(r,t){return r.push(t),r};function xi(){return Xr(function(r,t){xf(Gp,[])(r).subscribe(t)})}m();_();var Ef=-2003829722,Ei=-2021002517;function Kp(r){return new TextDecoder().decode(r)}function Tf(r){let t=r?"big":"little",e=new F().endianess(t).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new F().endianess(t).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),n=new F().endianess(t).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new F().endianess(t).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),o=new F().endianess(t).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:n,headerParser:e,isLeafNode:o}}var Qt=class{getHeader(t={}){let e="aborted"in t?{signal:t}:t;return this.headerP||(this.headerP=this._getHeader(e).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(t={}){let{filehandle:e,renameRefSeqs:n=a=>a,path:i,url:o}=t;if(this.renameRefSeqs=n,e)this.bbi=e;else if(o)this.bbi=new Oe(o);else if(i)this.bbi=new ci.default(i);else throw new Error("no file given")}async _getHeader(t){let e=await this._getMainHeader(t),n=await this._readChromTree(e,t);return{...e,...n}}async _getMainHeader(t,e=2e3){let{buffer:n}=await this.bbi.read(v.alloc(e),0,e,0,t),i=this._isBigEndian(n),o=Tf(i),a=o.headerParser.parse(n),{magic:s,asOffset:l,totalSummaryOffset:f}=a;if(a.fileType=s===Ei?"bigbed":"bigwig",l>e||f>e)return this._getMainHeader(t,e*2);if(l){let u=Number(a.asOffset);a.autoSql=Kp(n.subarray(u,n.indexOf(0,u)))}if(a.totalSummaryOffset>e)return this._getMainHeader(t,e*2);if(a.totalSummaryOffset){let u=n.subarray(Number(a.totalSummaryOffset)),c=o.totalSummaryParser.parse(u);a.totalSummary={...c,basesCovered:Number(c.basesCovered)}}return{...a,isBigEndian:i}}_isBigEndian(t){let e=t.readInt32LE(0);if(e===Ef||e===Ei)return!1;if(e=t.readInt32BE(0),e===Ef||e===Ei)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(t,e){let n=t.isBigEndian,i=n?"big":"little",o=[],a={},s=Number(t.unzoomedDataOffset),l=Number(t.chromTreeOffset);for(;s%4!==0;)s+=1;let f=s-l,{buffer:u}=await this.bbi.read(v.alloc(f),0,f,Number(l),e),c=Tf(n),{keySize:p}=c.chromTreeParser.parse(u),h=new F().endianess(i).string("key",{stripNull:!0,length:p}).uint32("refId").uint32("refSize").saveOffset("offset"),g=new F().endianess(i).skip(p).uint64("childOffset").saveOffset("offset"),w=32,E=async T=>{let S=T;if(S>=u.length)throw new Error("reading beyond end of buffer");let A=c.isLeafNode.parse(u.subarray(S)),{isLeafNode:b,cnt:R}=A;if(S+=A.offset,b)for(let N=0;N<R;N+=1){let x=h.parse(u.subarray(S));S+=x.offset;let{key:C,refId:I,refSize:k}=x,$={name:C,id:I,length:k};a[this.renameRefSeqs(C)]=I,o[I]=$}else{let N=[];for(let x=0;x<R;x+=1){let C=g.parse(u.subarray(S)),{childOffset:I}=C;S+=C.offset,N.push(E(Number(I)-Number(l)))}await Promise.all(N)}};return await E(w),{refsByName:a,refsByNumber:o}}async getUnzoomedView(t){let{unzoomedIndexOffset:e,refsByName:n,uncompressBufSize:i,isBigEndian:o,fileType:a}=await this.getHeader(t);return new gt(this.bbi,n,e,o,i>0,a)}async getFeatureStream(t,e,n,i={scale:1}){await this.getHeader(i);let o=this.renameRefSeqs(t),a;if(i.basesPerSpan?a=await this.getView(1/i.basesPerSpan,i):i.scale?a=await this.getView(i.scale,i):a=await this.getView(1,i),!a)throw new Error("unable to get block view for data");return new vi(s=>{a.readWigData(o,e,n,s,i)})}async getFeatures(t,e,n,i={scale:1}){let o=await this.getFeatureStream(t,e,n,i);return(await yi(o.pipe(xi()))).flat()}};var er=class extends Qt{async getView(t,e){let{zoomLevels:n,refsByName:i,fileSize:o,isBigEndian:a,uncompressBufSize:s}=await this.getHeader(e),l=1/t,f=n.length;o||(f-=1);for(let u=f;u>=0;u-=1){let c=n[u];if(c&&c.reductionLevel<=2*l){let p=Number(c.indexOffset);return new gt(this.bbi,i,p,a,s>0,"summary")}}return this.getUnzoomedView(e)}};m();_();var Xp=ze(In()),Jp=ze($n());m();_();m();_();var Af={},Ti={},Ai=34,tr=10,Ci=13;function Rf(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Qp(r,t){var e=Rf(r);return function(n,i){return t(e(n),i,r)}}function Cf(r){var t=Object.create(null),e=[];return r.forEach(function(n){for(var i in n)i in t||e.push(t[i]=i)}),e}function J(r,t){var e=r+"",n=e.length;return n<t?new Array(t-n+1).join(0)+e:e}function e0(r){return r<0?"-"+J(-r,6):r>9999?"+"+J(r,6):J(r,4)}function t0(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),n=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":e0(r.getUTCFullYear(),4)+"-"+J(r.getUTCMonth()+1,2)+"-"+J(r.getUTCDate(),2)+(i?"T"+J(t,2)+":"+J(e,2)+":"+J(n,2)+"."+J(i,3)+"Z":n?"T"+J(t,2)+":"+J(e,2)+":"+J(n,2)+"Z":e||t?"T"+J(t,2)+":"+J(e,2)+"Z":"")}function Sf(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function n(c,p){var h,g,w=i(c,function(E,T){if(h)return h(E,T-1);g=E,h=p?Qp(E,p):Rf(E)});return w.columns=g||[],w}function i(c,p){var h=[],g=c.length,w=0,E=0,T,S=g<=0,A=!1;c.charCodeAt(g-1)===tr&&--g,c.charCodeAt(g-1)===Ci&&--g;function b(){if(S)return Ti;if(A)return A=!1,Af;var N,x=w,C;if(c.charCodeAt(x)===Ai){for(;w++<g&&c.charCodeAt(w)!==Ai||c.charCodeAt(++w)===Ai;);return(N=w)>=g?S=!0:(C=c.charCodeAt(w++))===tr?A=!0:C===Ci&&(A=!0,c.charCodeAt(w)===tr&&++w),c.slice(x+1,N-1).replace(/""/g,'"')}for(;w<g;){if((C=c.charCodeAt(N=w++))===tr)A=!0;else if(C===Ci)A=!0,c.charCodeAt(w)===tr&&++w;else if(C!==e)continue;return c.slice(x,N)}return S=!0,c.slice(x,g)}for(;(T=b())!==Ti;){for(var R=[];T!==Af&&T!==Ti;)R.push(T),T=b();p&&(R=p(R,E++))==null||h.push(R)}return h}function o(c,p){return c.map(function(h){return p.map(function(g){return u(h[g])}).join(r)})}function a(c,p){return p==null&&(p=Cf(c)),[p.map(u).join(r)].concat(o(c,p)).join(`
`)}function s(c,p){return p==null&&(p=Cf(c)),o(c,p).join(`
`)}function l(c){return c.map(f).join(`
`)}function f(c){return c.map(u).join(r)}function u(c){return c==null?"":c instanceof Date?t0(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:f,formatValue:u}}m();_();var Qe=Sf("	"),r0=Qe.parse,Ri=Qe.parseRows,n0=Qe.format,i0=Qe.formatBody,o0=Qe.formatRows,a0=Qe.formatRow,s0=Qe.formatValue;m();_();m();_();m();_();m();_();m();_();var re="$";function Jr(){}Jr.prototype=kf.prototype={constructor:Jr,has:function(r){return re+r in this},get:function(r){return this[re+r]},set:function(r,t){return this[re+r]=t,this},remove:function(r){var t=re+r;return t in this&&delete this[t]},clear:function(){for(var r in this)r[0]===re&&delete this[r]},keys:function(){var r=[];for(var t in this)t[0]===re&&r.push(t.slice(1));return r},values:function(){var r=[];for(var t in this)t[0]===re&&r.push(this[t]);return r},entries:function(){var r=[];for(var t in this)t[0]===re&&r.push({key:t.slice(1),value:this[t]});return r},size:function(){var r=0;for(var t in this)t[0]===re&&++r;return r},empty:function(){for(var r in this)if(r[0]===re)return!1;return!0},each:function(r){for(var t in this)t[0]===re&&r(this[t],t.slice(1),this)}};function kf(r,t){var e=new Jr;if(r instanceof Jr)r.each(function(s,l){e.set(l,s)});else if(Array.isArray(r)){var n=-1,i=r.length,o;if(t==null)for(;++n<i;)e.set(n,r[n]);else for(;++n<i;)e.set(t(o=r[n],n,r),o)}else if(r)for(var a in r)e.set(a,r[a]);return e}var Et=kf;m();_();function Qr(){}var et=Et.prototype;Qr.prototype=f0.prototype={constructor:Qr,has:et.has,add:function(r){return r+="",this[re+r]=r,this},remove:et.remove,clear:et.clear,values:et.keys,size:et.size,empty:et.empty,each:et.each};function f0(r,t){var e=new Qr;if(r instanceof Qr)r.each(function(o){e.add(o)});else if(r){var n=-1,i=r.length;if(t==null)for(;++n<i;)e.add(r[n]);else for(;++n<i;)e.add(t(r[n],n,r))}return e}m();_();m();_();m();_();m();_();m();_();var u0={value:function(){}};function Nf(){for(var r=0,t=arguments.length,e={},n;r<t;++r){if(!(n=arguments[r]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new en(e)}function en(r){this._=r}function l0(r,t){return r.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}en.prototype=Nf.prototype={constructor:en,on:function(r,t){var e=this._,n=l0(r+"",e),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(r=n[o]).type)&&(i=h0(e[i],r.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(r=n[o]).type)e[i]=If(e[i],r.name,t);else if(t==null)for(i in e)e[i]=If(e[i],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new en(r)},call:function(r,t){if((i=arguments.length-2)>0)for(var e=new Array(i),n=0,i,o;n<i;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,i=o.length;n<i;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],i=0,o=n.length;i<o;++i)n[i].value.apply(t,e)}};function h0(r,t){for(var e=0,n=r.length,i;e<n;++e)if((i=r[e]).name===t)return i.value}function If(r,t,e){for(var n=0,i=r.length;n<i;++n)if(r[n].name===t){r[n]=u0,r=r.slice(0,n).concat(r.slice(n+1));break}return e!=null&&r.push({name:t,value:e}),r}var Si=Nf;function rr(r,t){var e,n=Si("beforesend","progress","load","error"),i,o=Et(),a=new XMLHttpRequest,s=null,l=null,f,u,c=0;typeof XDomainRequest!="undefined"&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(r)&&(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=a.ontimeout=p:a.onreadystatechange=function(h){a.readyState>3&&p(h)};function p(h){var g=a.status,w;if(!g&&p0(a)||g>=200&&g<300||g===304){if(f)try{w=f.call(e,a)}catch(E){n.call("error",e,E);return}else w=a;n.call("load",e,w)}else n.call("error",e,h)}if(a.onprogress=function(h){n.call("progress",e,h)},e={header:function(h,g){return h=(h+"").toLowerCase(),arguments.length<2?o.get(h):(g==null?o.remove(h):o.set(h,g+""),e)},mimeType:function(h){return arguments.length?(i=h==null?null:h+"",e):i},responseType:function(h){return arguments.length?(u=h,e):u},timeout:function(h){return arguments.length?(c=+h,e):c},user:function(h){return arguments.length<1?s:(s=h==null?null:h+"",e)},password:function(h){return arguments.length<1?l:(l=h==null?null:h+"",e)},response:function(h){return f=h,e},get:function(h,g){return e.send("GET",h,g)},post:function(h,g){return e.send("POST",h,g)},send:function(h,g,w){return a.open(h,r,!0,s,l),i!=null&&!o.has("accept")&&o.set("accept",i+",*/*"),a.setRequestHeader&&o.each(function(E,T){a.setRequestHeader(T,E)}),i!=null&&a.overrideMimeType&&a.overrideMimeType(i),u!=null&&(a.responseType=u),c>0&&(a.timeout=c),w==null&&typeof g=="function"&&(w=g,g=null),w!=null&&w.length===1&&(w=c0(w)),w!=null&&e.on("error",w).on("load",function(E){w(null,E)}),n.call("beforesend",e,a),a.send(g==null?null:g),e},abort:function(){return a.abort(),e},on:function(){var h=n.on.apply(n,arguments);return h===n?e:h}},t!=null){if(typeof t!="function")throw new Error("invalid callback: "+t);return e.get(t)}return e}function c0(r){return function(t,e){r(t==null?e:null)}}function p0(r){var t=r.responseType;return t&&t!=="text"?r.response:r.responseText}m();_();m();_();function Pe(r,t){return function(e,n){var i=rr(e).mimeType(r).response(t);if(n!=null){if(typeof n!="function")throw new Error("invalid callback: "+n);return i.get(n)}return i}}var d0=Pe("text/html",function(r){return document.createRange().createContextualFragment(r.responseText)});m();_();var m0=Pe("application/json",function(r){return JSON.parse(r.responseText)});m();_();var ki=Pe("text/plain",function(r){return r.responseText});m();_();var _0=Pe("application/xml",function(r){var t=r.responseXML;if(!t)throw new Error("parse error");return t});m();_();m();_();m();_();var $f={},Ii={},Ni=34,nr=10,$i=13;function Uf(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function g0(r,t){var e=Uf(r);return function(n,i){return t(e(n),i,r)}}function Ff(r){var t=Object.create(null),e=[];return r.forEach(function(n){for(var i in n)i in t||e.push(t[i]=i)}),e}function Q(r,t){var e=r+"",n=e.length;return n<t?new Array(t-n+1).join(0)+e:e}function w0(r){return r<0?"-"+Q(-r,6):r>9999?"+"+Q(r,6):Q(r,4)}function b0(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),n=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":w0(r.getUTCFullYear(),4)+"-"+Q(r.getUTCMonth()+1,2)+"-"+Q(r.getUTCDate(),2)+(i?"T"+Q(t,2)+":"+Q(e,2)+":"+Q(n,2)+"."+Q(i,3)+"Z":n?"T"+Q(t,2)+":"+Q(e,2)+":"+Q(n,2)+"Z":e||t?"T"+Q(t,2)+":"+Q(e,2)+"Z":"")}function tn(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function n(c,p){var h,g,w=i(c,function(E,T){if(h)return h(E,T-1);g=E,h=p?g0(E,p):Uf(E)});return w.columns=g||[],w}function i(c,p){var h=[],g=c.length,w=0,E=0,T,S=g<=0,A=!1;c.charCodeAt(g-1)===nr&&--g,c.charCodeAt(g-1)===$i&&--g;function b(){if(S)return Ii;if(A)return A=!1,$f;var N,x=w,C;if(c.charCodeAt(x)===Ni){for(;w++<g&&c.charCodeAt(w)!==Ni||c.charCodeAt(++w)===Ni;);return(N=w)>=g?S=!0:(C=c.charCodeAt(w++))===nr?A=!0:C===$i&&(A=!0,c.charCodeAt(w)===nr&&++w),c.slice(x+1,N-1).replace(/""/g,'"')}for(;w<g;){if((C=c.charCodeAt(N=w++))===nr)A=!0;else if(C===$i)A=!0,c.charCodeAt(w)===nr&&++w;else if(C!==e)continue;return c.slice(x,N)}return S=!0,c.slice(x,g)}for(;(T=b())!==Ii;){for(var R=[];T!==$f&&T!==Ii;)R.push(T),T=b();p&&(R=p(R,E++))==null||h.push(R)}return h}function o(c,p){return c.map(function(h){return p.map(function(g){return u(h[g])}).join(r)})}function a(c,p){return p==null&&(p=Ff(c)),[p.map(u).join(r)].concat(o(c,p)).join(`
`)}function s(c,p){return p==null&&(p=Ff(c)),o(c,p).join(`
`)}function l(c){return c.map(f).join(`
`)}function f(c){return c.map(u).join(r)}function u(c){return c==null?"":c instanceof Date?b0(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:f,formatValue:u}}m();_();var tt=tn(","),Fi=tt.parse,v0=tt.parseRows,y0=tt.format,x0=tt.formatBody,E0=tt.formatRows,T0=tt.formatRow,A0=tt.formatValue;m();_();var rt=tn("	"),Ui=rt.parse,C0=rt.parseRows,R0=rt.format,S0=rt.formatBody,k0=rt.formatRows,I0=rt.formatRow,N0=rt.formatValue;m();_();function rn(r,t){return function(e,n,i){arguments.length<3&&(i=n,n=null);var o=rr(e).mimeType(r);return o.row=function(a){return arguments.length?o.response($0(t,n=a)):n},o.row(n),i?o.get(i):o}}function $0(r,t){return function(e){return r(e.responseText,t)}}var F0=rn("text/csv",Fi);m();_();var U0=rn("text/tab-separated-values",Ui);var Of=(r,t,e)=>e.chrPositions[r].pos+t;function B0(r){let t=[],e={},n={},i=0;for(let o=0;o<r.length;o++){let a=Number(r[o][1]);i+=a;let s={id:o,chr:r[o][0],pos:i-a};t.push(s),n[s.chr]=s,e[r[o][0]]=a}return{chrToAbs:([o,a])=>Of(o,a,{chrPositions:n}),cumPositions:t,chrPositions:n,totalLength:i,chromLengths:e}}function O0(r,t){let e={};return e.absToChr=n=>e.chrPositions?absToChr(n,e):null,e.chrToAbs=([n,i]=[])=>e.chrPositions?Of(n,i,e):null,ki(r,(n,i)=>{if(n)t&&t(null);else{let o=Ri(i),a=B0(o);Object.keys(a).forEach(s=>{e[s]=a[s]}),t&&t(e)}})}var Pf=function(t,...e){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');class n{constructor(o){this.dataConfig=o,this.trackUid=Bf.default.nice(),this.bwFileHeader=null,this.bwFile=null,this.TILE_SIZE=1024,this.errorTxt="",this.dataPromises=[],this.dataPromises.push(this.loadChromsizes(o)),this.dataPromises.push(this.loadBBI(o))}loadChromsizes(o){return o.chromSizesUrl?new Promise(a=>{O0(o.chromSizesUrl,s=>{this.chromSizes=s,a()})}):(console.error('Please enter a "chromSizesUrl" field to the data config'),null)}loadBBI(o){return o.url?(this.bwFile=new er({filehandle:new Oe(o.url)}),this.bwFile.getHeader().then(a=>{this.bwFileHeader=a})):(console.error('Please enter a "url" field to the data config'),null)}tilesetInfo(o){return this.tilesetInfoLoading=!0,Promise.all(this.dataPromises).then(()=>{this.tilesetInfoLoading=!1;let a={},s=this.chromSizes.totalLength;return a={tile_size:this.TILE_SIZE,max_zoom:Math.ceil(Math.log(s/this.TILE_SIZE)/Math.log(2)),max_width:2**Math.ceil(Math.log(s)/Math.log(2)),min_pos:[0],max_pos:[s]},o&&o(a),a}).catch(a=>{this.tilesetInfoLoading=!1,console.error(a),o&&o({error:`Error parsing bigwig: ${a}`})})}fetchTilesDebounced(o,a){let s={},l=[],f=[];for(let u of a){let c=u.split("."),p=parseInt(c[0],10),h=parseInt(c[1],10);if(Number.isNaN(h)||Number.isNaN(p)){console.warn("Invalid tile zoom or position:",p,h);continue}l.push(u),f.push(this.tile(p,h))}return Promise.all(f).then(u=>{for(let c=0;c<u.length;c++){let p=l[c];s[p]=u[c],s[p].tilePositionId=p}o(s)}),s}tile(o,a){return this.tilesetInfo().then(s=>{let l=+s.max_width/2**+o,f=[],u={tilePos:[a],tileId:"bigwig."+o+"."+a,zoomLevel:o},c=s.min_pos[0]+a*l,p=c,h=s.min_pos[0]+(a+1)*l,g=this.determineScale(p,h),w=(h-p)/this.TILE_SIZE,E=[];for(let A=0;A<this.TILE_SIZE;A++)E.push(p+A*w);let{chromLengths:T,cumPositions:S}=this.chromSizes;for(let A=0;A<S.length;A++){let b=S[A].chr,R=S[A].pos,N=S[A].pos+T[b],x,C;if(R<=p&&p<N)if(h>N)x=p-R,C=N-R,f.push(this.bwFile.getFeatures(b,x,C,{scale:1/g}).then(I=>(I.forEach(k=>{k.startAbs=t.utils.chrToAbs(b,k.start,this.chromSizes),k.endAbs=t.utils.chrToAbs(b,k.end,this.chromSizes)}),I))),p=N;else{x=Math.floor(p-R),C=Math.ceil(h-R),f.push(this.bwFile.getFeatures(b,x,C,{scale:1/g}).then(I=>(I.forEach(k=>{k.startAbs=t.utils.chrToAbs(b,k.start,this.chromSizes),k.endAbs=t.utils.chrToAbs(b,k.end,this.chromSizes)}),I)));break}}return Promise.all(f).then(A=>{let b=A.flat();for(var R=[],N=0;N<this.TILE_SIZE;N++)R.push(null);E.forEach((C,I)=>{if(C<c||C>h)return;let k=b.filter($=>C>=$.startAbs&&C<$.endAbs).map($=>$.score);R[I]=k.length>0?k[0]:null}),u.min_value=Math.min(...R),u.max_value=Math.max(...R);let x=new t.utils.DenseDataExtrema1D(R);return u.dense=R,u.denseDataExtrema=x,u.minNonZero=x.minNonZeroInTile,u.maxNonZero=x.maxNonZeroInTile,u})})}determineScale(o,a){let s=[1],l=a-o;this.bwFileHeader.zoomLevels.forEach(u=>{s.push(u.reductionLevel)});for(var f=0;f<s.length;f++){let u=s[f];if(l/u<=this.TILE_SIZE*20)return u}return s.slice(-1)[0]}}return new n(...e)};Pf.config={type:"bbi"};var P0=Pf;export{P0 as BigwigDataFetcher};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
//# sourceMappingURL=index.min.js.map
